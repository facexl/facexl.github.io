import{_ as e}from"./SetLinkDialog-fe061a29.js";import{d as a,r as s,m as l,o as t,$ as i,H as n,a as o,b as d,e as m,w as r,f as p,g as u,x as _,p as c,B as f,E as b,q as v,z as k,A as g,I as y,a7 as h,a3 as j,a4 as x,_ as U}from"./index-c2ae2a0e.js";import{_ as w}from"./Upload-053b6740.js";import{_ as S}from"./index-8036da2a.js";import{_ as C}from"./index-ef11d20c.js";import"./index-c8577ae4.js";import"./useTableColumns-dd067b4d.js";import"./FolderOpenOutlined-fa174baf.js";import"./index-3f0a4d2e.js";import"./tool-d986b095.js";import"./RadioButton-bc4165ed.js";import"./usePagination-c05046ed.js";import"./index-b1df7cdb.js";import"./index-00d344de.js";import"./DeleteOutlined-1e1ff134.js";const L={style:{"padding-top":"50px"}},O=(e=>(j("data-v-a7391bb0"),e=e(),x(),e))((()=>u("div",{class:"tips"}," 建议尺寸1125px * 1986px ",-1))),V={class:"btn-block"},q=U(a({__name:"StartSetting",emits:["fresh"],setup(a,{emit:j}){const x=s(),U={required:!0,message:"请输入"},q=l({loading:!1,btnLoading:!1,linkVisible:!1,link_desc:""}),B=l({status:"",time:void 0,imgs:void 0,name:void 0,sub_name:void 0,link_type:void 0,link_params:void 0,link_desc:void 0});t((()=>{I()}));const I=()=>{q.loading=!0,i.set.startSetting.detail({}).then((e=>{for(let a in B)B[a]=e.data[a]}))},A=e=>{B.link_type=e.link_type,B.link_params=e.link_params,B.link_desc=e.link_desc},D=()=>{x.value.validate().then((async e=>{q.btnLoading=!0,await i.set.startSetting.save({...e}),I()})).catch((e=>{console.log(e)})).finally((e=>{q.btnLoading=!1}))};return(a,s)=>{const l=C,t=g,j=S,I=w,R=y,z=h,E=f,F=b,G=e,H=n("permission");return o(),d("div",L,[m(F,{ref_key:"formRef",ref:x,model:p(B),autocomplete:"off","label-col":{span:4},"wrapper-col":{span:17}},{default:r((()=>[m(t,{label:"是否启用",name:"status"},{default:r((()=>[m(l,{checked:p(B).status,"onUpdate:checked":s[0]||(s[0]=e=>p(B).status=e),"un-checked-value":"0","checked-value":"1"},null,8,["checked"])])),_:1}),m(t,{label:"展示时间",name:"time",rules:U},{default:r((()=>[m(j,{value:p(B).time,"onUpdate:value":s[1]||(s[1]=e=>p(B).time=e),min:1},{addonAfter:r((()=>[v(" 秒 ")])),_:1},8,["value"])])),_:1}),m(t,{name:"imgs",label:"图片",rules:U},{default:r((()=>[m(I,{filelist:p(B).imgs,"onUpdate:filelist":s[2]||(s[2]=e=>p(B).imgs=e)},null,8,["filelist"]),O])),_:1}),m(t,{label:"名称",name:"name",rules:U},{default:r((()=>[m(R,{value:p(B).name,"onUpdate:value":s[3]||(s[3]=e=>p(B).name=e)},null,8,["value"])])),_:1}),m(t,{label:"描述",name:"sub_name"},{default:r((()=>[m(z,{value:p(B).sub_name,"onUpdate:value":s[4]||(s[4]=e=>p(B).sub_name=e),style:{height:"80px"}},null,8,["value"])])),_:1}),m(t,{label:"跳转页面",name:"link_type"},{default:r((()=>[m(E,{onClick:s[5]||(s[5]=e=>p(q).linkVisible=!0)},{default:r((()=>[v(" 设置跳转链接 ")])),_:1}),u("div",null,k(p(B).link_desc),1)])),_:1}),m(t,{label:"",name:"link_params",style:{display:"none"}}),m(t,{label:"",name:"link_desc",style:{display:"none"}})])),_:1},8,["model"]),u("div",V,[_((o(),c(E,{type:"primary",loading:p(q).btnLoading,onClick:D},{default:r((()=>[v(" 保存 ")])),_:1},8,["loading"])),[[H,[p(i).set.startSetting.save]]])]),m(G,{show:p(q).linkVisible,"onUpdate:show":s[6]||(s[6]=e=>p(q).linkVisible=e),"form-data":p(B),onOnChange:A},null,8,["show","form-data"])])}}}),[["__scopeId","data-v-a7391bb0"]]);export{q as default};
