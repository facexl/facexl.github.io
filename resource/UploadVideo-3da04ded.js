import{_ as e}from"./Upload-053b6740.js";import{d as s,i as a,cw as l,a as t,b as o,p as i,s as d,f as n,F as c,n as p,e as u,cH as r,g as m,_ as v}from"./index-c2ae2a0e.js";const h={key:1,class:"video-box"},f=["src"],x=v(s({__name:"UploadVideo",props:{list:{default:()=>[]},max:{default:1},needSize:{type:Boolean,default:!1}},emits:["update:list"],setup(s,{emit:v}){const x=s,_=a(x,"list",v,l(x.list)),g=e=>{const s={url:e};if(x.needSize){const a=document.createElement("video");a.onloadedmetadata=e=>{s.width=a.videoWidth,s.height=a.videoHeight,_.value.push(s)},a.src=e,a.load()}else _.value.push(s)};return(s,a)=>{const l=e;return t(),o("div",null,[s.list.length<s.max?(t(),i(l,{key:0,"list-type":"text","show-upload-list":!1,placeholder:"上传视频",accept:"video/mp4",onOnChange:g})):d("",!0),n(_).length?(t(),o("div",h,[(t(!0),o(c,null,p(n(_),((e,s)=>(t(),o("div",{key:e.url,class:"box mr8px"},[u(n(r),{class:"close",onClick:e=>(e=>{_.value.splice(e,1)})(s)},null,8,["onClick"]),m("video",{class:"video",src:e.url,controls:""},null,8,f)])))),128))])):d("",!0)])}}}),[["__scopeId","data-v-7970549f"]]);export{x as _};
