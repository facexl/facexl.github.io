import{d as e,r as a,i as n,a as i,b as t,e as l,w as o,g as d,f as r,j as s,k as c,S as u,_ as p,l as m,m as _,$ as y,M as h,F as g,n as v,p as k,q as f,s as w,t as b,B as C,I as S,v as x,T as R,x as U,y as z,z as I,A as j,C as q,D as K,E as P,o as D,G as L,H as O,J as B,K as E,L as T,N,O as H}from"./index-c2ae2a0e.js";import{_ as $}from"./index-975d3375.js";import{u as F,_ as W}from"./useTableColumns-dd067b4d.js";import{_ as A}from"./index-c8577ae4.js";import"./index-3f0a4d2e.js";import{_ as J}from"./index-ef11d20c.js";import{u as G}from"./useSearchItems-c7d75cf3.js";import{u as M}from"./usePagination-c05046ed.js";import{d as Q}from"./index-a09a23de.js";import{D as V}from"./DeleteOutlined-1e1ff134.js";import{_ as X}from"./index-8036da2a.js";import{_ as Y}from"./ConnectUser.vue_vue_type_script_setup_true_lang-4d6feebd.js";import{_ as Z}from"./RadioButton-bc4165ed.js";import{p as ee}from"./luckSpinConstant-6ba453a8.js";import"./FolderOpenOutlined-fa174baf.js";import"./tool-d986b095.js";const ae={class:"flex-center"},ne=["src"],ie=p(e({__name:"PriviewH5",props:{show:Boolean,path:String},emits:[],setup(e,{emit:p}){const m=e,_=a(!0),y=()=>{_.value=!1},h=n(m,"show",p,!0);return(a,n)=>{const p=u,m=$;return i(),t("div",null,[l(m,{visible:r(h),"onUpdate:visible":n[0]||(n[0]=e=>c(h)?h.value=e:null),width:500,title:"预览",placement:"left"},{default:o((()=>[d("div",ae,[l(p,{spinning:r(_),tip:"正在加载..."},{default:o((()=>[d("iframe",{class:"iframe",src:r(s).h5+e.path,frameborder:"0",onLoad:y},null,40,ne)])),_:1},8,["spinning"])])])),_:1},8,["visible"])])}}}),[["__scopeId","data-v-6c98a5b3"]]),te={style:{"text-align":"right"}},le=e({__name:"PrizeWords",props:{show:Boolean,id:String},emits:["fresh"],setup(e,{emit:s}){const p=e;a();const U=n(p,"show",s);m(U,(async e=>{e&&I()}));const z=_({loading:!1,confirmLoading:!1,configs:[],active_level:""});_({});const I=()=>{z.loading=!0,y.act.spin.words().then((e=>{z.loading=!1,z.active_level=e.data[0].level,e.data.forEach((e=>{e.key=b.key})),z.configs=e.data}))},j=async()=>{z.confirmLoading=!0;try{await y.act.spin.upwords({words:JSON.stringify(z.configs)}),z.confirmLoading=!1,U.value=!1}catch(e){z.confirmLoading=!1}};return(e,a)=>{const n=C,s=S,p=x,m=R,_=u,y=h;return i(),t("div",null,[l(y,{visible:r(U),"onUpdate:visible":a[2]||(a[2]=e=>c(U)?U.value=e:null),width:"650px",title:"中奖结果随机语配置","confirm-loading":r(z).confirmLoading,onOk:j},{default:o((()=>[l(_,{spinning:r(z).loading,"onUpdate:spinning":a[1]||(a[1]=e=>r(z).loading=e)},{default:o((()=>[l(m,{activeKey:r(z).active_level,"onUpdate:activeKey":a[0]||(a[0]=e=>r(z).active_level=e)},{default:o((()=>[(i(!0),t(g,null,v(r(z).configs,((e,a)=>(i(),k(p,{key:e.level,tab:e.name},{default:o((()=>[d("div",te,[l(n,{disabled:e.items.length>=8,type:"primary",class:"mb8px",onClick:e=>(e=>{z.configs[e].items.push({id:0,words:"",key:b.key})})(a)},{default:o((()=>[f(" 添加 ")])),_:2},1032,["disabled","onClick"]),(i(!0),t(g,null,v(e.items,((n,o)=>(i(),t("div",{key:n.key,class:"box mb8pxflex-center"},[l(s,{value:n.words,"onUpdate:value":e=>n.words=e,style:{"margin-right":"16px"}},null,8,["value","onUpdate:value"]),e.items.length>1?(i(),k(r(V),{key:0,style:{"font-size":"18px"},onClick:e=>((e,a)=>{z.configs[e].items.splice(a,1)})(a,o)},null,8,["onClick"])):w("",!0)])))),128))])])),_:2},1032,["tab"])))),128))])),_:1},8,["activeKey"])])),_:1},8,["spinning"])])),_:1},8,["visible","confirm-loading"])])}}}),oe={key:0},de=["href"],re=e({__name:"PrizeCouponSend",props:{show:Boolean,id:String},emits:["fresh"],setup(e,{emit:s}){const p=e,g=a(),v=n(p,"show",s);m(v,(async e=>{e&&g.value&&g.value.resetFields()}));const b=_({way:1,loading:!1,confirmLoading:!1}),x=_({file:"",uids:"",each_num:"",order_sn:"",user_remark:"",admin_remark:""}),R=()=>{var e;null==(e=document.getElementById("PrizeCouponSend-importInput"))||e.click()},D=()=>{g.value.validate().then((async e=>{var a;b.confirmLoading=!0;try{if(1===b.way)await y.act.spin.sendCoupon({...x,activity_id:p.id});else{const e=null==(a=document.getElementById("PrizeCouponSend-importInput"))?void 0:a.files[0],n=new FormData;n.append("file",e),n.append("user_remark",x.user_remark),n.append("admin_remark",x.admin_remark),n.append("activity_id",p.id),await y.act.spin.importCoupon(n)}b.confirmLoading=!1,v.value=!1}catch(n){console.log(n),b.confirmLoading=!1}}))};return(e,a)=>{const n=Z,s=A,p=j,m=q,_=K,L=Y,O=X,B=S,E=C,T=P,N=u,H=h;return i(),t("div",null,[l(H,{visible:r(v),"onUpdate:visible":a[8]||(a[8]=e=>c(v)?v.value=e:null),width:"650px",title:"赠送抽奖券","confirm-loading":r(b).confirmLoading,onOk:D},{default:o((()=>[l(N,{spinning:r(b).loading,"onUpdate:spinning":a[7]||(a[7]=e=>r(b).loading=e)},{default:o((()=>[l(T,{ref_key:"formRef",ref:g,model:r(x),"label-col":{span:6},"wrapper-col":{span:18}},{default:o((()=>[l(_,null,{default:o((()=>[l(m,{span:24},{default:o((()=>[l(p,{name:"way",label:"发放方式"},{default:o((()=>[l(s,{value:r(b).way,"onUpdate:value":a[0]||(a[0]=e=>r(b).way=e)},{default:o((()=>[l(n,{value:1},{default:o((()=>[f(" 选择指定用户 ")])),_:1}),l(n,{value:2},{default:o((()=>[f(" 导入用户列表 ")])),_:1})])),_:1},8,["value"])])),_:1})])),_:1})])),_:1}),1===r(b).way?(i(),t("div",oe,[l(_,null,{default:o((()=>[l(m,{span:24},{default:o((()=>[l(p,{label:"关联用户",required:"",name:"uids"},{default:o((()=>[r(v)?(i(),k(L,{key:0,uids:r(x).uids,"onUpdate:uids":a[1]||(a[1]=e=>r(x).uids=e)},null,8,["uids"])):w("",!0)])),_:1})])),_:1})])),_:1}),l(_,null,{default:o((()=>[l(m,{span:24},{default:o((()=>[l(p,{name:"each_num",label:"赠送数量",required:""},{default:o((()=>[l(O,{value:r(x).each_num,"onUpdate:value":a[2]||(a[2]=e=>r(x).each_num=e),min:0,precision:0},null,8,["value"])])),_:1})])),_:1})])),_:1}),l(_,null,{default:o((()=>[l(m,{span:24},{default:o((()=>[l(p,{name:"order_sn",label:"关联订单号"},{default:o((()=>[l(B,{value:r(x).order_sn,"onUpdate:value":a[3]||(a[3]=e=>r(x).order_sn=e)},null,8,["value"])])),_:1})])),_:1})])),_:1})])):w("",!0),U(d("div",null,[l(_,null,{default:o((()=>[l(m,{span:24},{default:o((()=>[l(p,{label:"导入"},{default:o((()=>[l(E,{type:"primary",onClick:R},{default:o((()=>[f(" 导入用户表 ")])),_:1}),l(B,{id:"PrizeCouponSend-importInput",value:r(x).file,"onUpdate:value":a[4]||(a[4]=e=>r(x).file=e),accept:".xls, .xlsx",type:"file",style:{display:"none"}},null,8,["value"]),d("a",{href:r(y).act.spin.sendCouponTpl.url,download:"",style:{"padding-left":"40px"}},"点击此处下载模板",8,de),d("div",null,I(r(x).file),1)])),_:1})])),_:1})])),_:1})],512),[[z,2===r(b).way]]),l(_,null,{default:o((()=>[l(m,{span:24},{default:o((()=>[l(p,{name:"user_remark",label:"赠送说明",required:""},{default:o((()=>[l(B,{value:r(x).user_remark,"onUpdate:value":a[5]||(a[5]=e=>r(x).user_remark=e),placeholder:"用于前端显示"},null,8,["value"])])),_:1})])),_:1})])),_:1}),l(_,null,{default:o((()=>[l(m,{span:24},{default:o((()=>[l(p,{name:"admin_remark",label:"赠送备注"},{default:o((()=>[l(B,{value:r(x).admin_remark,"onUpdate:value":a[6]||(a[6]=e=>r(x).admin_remark=e),placeholder:"用于后台说明"},null,8,["value"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["spinning"])])),_:1},8,["visible","confirm-loading"])])}}}),se={class:"table-title"},ce={class:"danger-color"},ue={class:"danger-color"},pe=e({__name:"SpinRecord",props:{activity_id:Number},setup(e){const a=e,n=[{type:"input",key:"uid",placeholder:"抽奖用户ID"},{type:"input",key:"username",placeholder:"抽奖用户昵称"},{type:"select",key:"is_award",placeholder:"是否中奖",options:[{value:-1,label:"全部"},{value:0,label:"否"},{value:1,label:"是"}]},{type:"select",key:"source",placeholder:"抽奖券来源",options:[{value:0,label:"全部"},{value:1,label:"购物送"},{value:2,label:"平台赠送"}]},{type:"input",key:"award_name",placeholder:"所中奖品"},{type:"select",key:"prize_type",placeholder:"奖品类型",options:ee.map((e=>({value:e.type,label:e.name})))},{type:"select",key:"status",placeholder:"奖品状态",options:[{value:-1,label:"全部"},{value:0,label:"未完成"},{value:1,label:"已发放"},{value:2,label:"用户已取消"},{value:3,label:"超时取消"}]},{type:"dateRangePicker",key:"created_at_start-created_at_end",placeholder:"抽奖时间"}],s=F([["编号","id"],["抽奖用户ID","uid"],["抽奖用户昵称","username"],["抽奖券来源","from_name"],["是否中奖","is_award_name"],["奖品","award_name"],["奖品类型","prize_type_name"],["备注","award_remark"],["奖品状态","status_name"],["抽奖时间","created_at"]]),c=_({handlingId:0,dataSource:[],loading:!1,query:{},pagination:M(),selectedRowKeys:[],batchs:[{label:"批量",value:""}],allData:{}}),u=e=>{""===e&&(c.handlingId=c.selectedRowKeys)};D((()=>{p()}));const p=()=>{c.loading=!0,y.act.spin.spinRecord({page:c.pagination.current,page_size:c.pagination.pageSize,activity_id:a.activity_id,...c.query}).then((e=>{var a;c.loading=!1,c.dataSource=e.data.items,delete e.data.items,c.allData=e.data,1===c.pagination.current&&(c.pagination.total=+(null==(a=e.data)?void 0:a.count))}))},m=e=>{c.pagination={...c.pagination,...e},p()},h=e=>{c.query=e,c.pagination={...c.pagination,current:1},p()};return(a,p)=>{const _=L("Export"),v=L("Search"),b=J,S=C,x=W,R=L("BatchTable");return i(),t("div",null,[l(v,{"search-options":n,onOnSearch:h},{default:o((()=>[l(_,{api:r(y).act.spin.spinRecordExport,query:{activity_id:e.activity_id,...r(c).query}},null,8,["api","query"])])),_:1}),l(x,{"row-key":"id","data-source":r(c).dataSource,columns:r(s),scroll:{x:"max-content"},loading:r(c).loading,pagination:r(c).pagination,onChange:m},{title:o((()=>[d("div",se,[f(" 查询条件下，共计 "),d("span",ce,I(r(c).allData.count),1),f(" 条抽奖记录，其中 "),d("span",ue,I(r(c).allData.is_award_count),1),f(" 条中奖记录 ")])])),bodyCell:o((({column:e,record:n})=>["enabled"===e.key?(i(),k(b,{key:0,checked:n.enabled,"onUpdate:checked":e=>n.enabled=e,"un-checked-value":0,"checked-value":1,onChange:e=>(async e=>{await y.product.material.status({id:e.id,enabled:e.enabled}).catch((a=>{e.enabled=0===e.enabled?1:0}))})(n)},null,8,["checked","onUpdate:checked","onChange"])):w("",!0),"operate"===e.key?(i(),t(g,{key:1},[l(S,{type:"link",onClick:e=>{r(c).handlingId=n.id}},{default:o((()=>[f(" 编辑 ")])),_:2},1032,["onClick"]),l(S,{type:"link",danger:"",onClick:e=>a.del(n.id)},{default:o((()=>[f(" 删除 ")])),_:2},1032,["onClick"])],64)):w("",!0)])),_:1},8,["data-source","columns","loading","pagination"]),r(c).dataSource.length?(i(),k(R,{key:0,batchs:r(c).batchs,"selected-row-keys":r(c).selectedRowKeys,onClick:u},null,8,["batchs","selected-row-keys"])):w("",!0)])}}}),me={class:"lucky-spin-couponRecord-container"},_e={class:"table-title"},ye={class:"danger-color"},he={class:"danger-color"},ge=e({__name:"CouponRecord",props:{activity_id:Number,import_id:Number},setup(e){const n=e,s=a(),c=[{type:"input",key:"uid",placeholder:"领券用户ID"},{type:"input",key:"username",placeholder:"领券用户昵称"},{type:"input",key:"import_id",placeholder:"赠送记录编号"},{type:"select",key:"source",placeholder:"抽奖券来源",options:[{value:0,label:"全部"},{value:1,label:"购物送"},{value:2,label:"平台赠送"}]},{type:"dateRange",key:"created_at_start-created_at_end",placeholder:"领券时间"}],u=F([["编号","id"],["领券用户ID","uid"],["领券用户昵称","username"],["抽奖券领取张数","get_num"],["未使用券数","left_num"],["抽奖券来源","get_name"],["状态","status_name"],["领券时间","created_at"],["操作","operate",180,"right"]]),p=_({handlingId:0,dataSource:[],loading:!1,query:{import_id:n.import_id},pagination:M(),selectedRowKeys:[],batchs:[{label:"批量回收",value:"recover"}],allData:{}}),m=e=>{"recover"===e&&v(p.selectedRowKeys)};D((()=>{s.value.searchForm.import_id=n.import_id,h()}));const h=()=>{p.loading=!0,y.act.spin.couponRecord({page:p.pagination.current,page_size:p.pagination.pageSize,activity_id:n.activity_id,...p.query}).then((e=>{var a;p.loading=!1,p.dataSource=e.data.items,delete e.data.items,p.allData=e.data,1===p.pagination.current&&(p.pagination.total=+(null==(a=e.data)?void 0:a.count))}))},v=async e=>{Q.confirm({title:"提示",content:"确定回收抽奖券?",okText:"确认",cancelText:"取消",async onOk(){const a=Array.isArray(e)?e.join(","):String(e);await y.act.spin.recover({ids:a}),h()},onCancel(){}})},b=e=>{p.pagination={...p.pagination,...e},h()},S=e=>{p.query=e,p.pagination={...p.pagination,current:1},h()};return(a,n)=>{const _=L("Export"),h=L("Search"),x=L("sapn"),R=J,U=C,z=W,j=L("BatchTable");return i(),t("div",me,[l(h,{ref_key:"searchRef",ref:s,"search-options":c,onOnSearch:S},{default:o((()=>[l(_,{api:r(y).act.spin.couponRecordExport,query:{activity_id:e.activity_id,...r(p).query}},null,8,["api","query"])])),_:1},512),l(z,{"row-key":"id","data-source":r(p).dataSource,columns:r(u),scroll:{x:"max-content"},loading:r(p).loading,"row-selection":{selectedRowKeys:r(p).selectedRowKeys,onChange(e){r(p).selectedRowKeys=e}},pagination:r(p).pagination,onChange:b},{title:o((()=>[d("div",_e,[f(" 查询条件下，共计领取 "),d("span",ye,I(r(p).allData.total_get_num),1),f(" 张抽奖券，其中 "),d("span",he,I(r(p).allData.source_order_num),1),f(" 张为下单购买送， "),l(x,{class:"danger-color"},{default:o((()=>[f(I(r(p).allData.source_import_num),1)])),_:1}),f(" 张为平台赠送 ")])])),bodyCell:o((({column:e,record:a})=>["enabled"===e.key?(i(),k(R,{key:0,checked:a.enabled,"onUpdate:checked":e=>a.enabled=e,"un-checked-value":0,"checked-value":1,onChange:e=>(async e=>{await y.product.material.status({id:e.id,enabled:e.enabled}).catch((a=>{e.enabled=0===e.enabled?1:0}))})(a)},null,8,["checked","onUpdate:checked","onChange"])):w("",!0),"operate"===e.key?(i(),t(g,{key:1},[a.left_num>0?(i(),k(U,{key:0,type:"link",onClick:e=>v(a.id)},{default:o((()=>[f(" 回收 ")])),_:2},1032,["onClick"])):w("",!0)],64)):w("",!0)])),_:1},8,["data-source","columns","loading","row-selection","pagination"]),r(p).dataSource.length?(i(),k(j,{key:0,to:".lucky-spin-couponRecord-container .ant-table-pagination",batchs:r(p).batchs,"selected-row-keys":r(p).selectedRowKeys,onClick:m},null,8,["batchs","selected-row-keys"])):w("",!0)])}}}),ve={key:0},ke=e({__name:"Record",props:{show:Boolean,id:Number,import_id:Number},emits:[],setup(e,{emit:a}){const d=e,s=n(d,"show",a);m((()=>d.import_id),(e=>{e&&(u.activeKey="2")}));const u=_({activeKey:"0"});return(a,n)=>{const d=x,p=R,m=$;return i(),t("div",null,[l(m,{visible:r(s),"onUpdate:visible":n[1]||(n[1]=e=>c(s)?s.value=e:null),title:"记录详情",placement:"right",width:"80%"},{default:o((()=>[r(s)?(i(),t("div",ve,[l(p,{activeKey:r(u).activeKey,"onUpdate:activeKey":n[0]||(n[0]=e=>r(u).activeKey=e)},{default:o((()=>[l(d,{key:"0",tab:"抽奖记录"},{default:o((()=>[l(pe,{activity_id:e.id},null,8,["activity_id"])])),_:1}),l(d,{key:"2",tab:"抽奖券记录"},{default:o((()=>[l(ge,{activity_id:e.id,import_id:e.import_id},null,8,["activity_id","import_id"])])),_:1})])),_:1},8,["activeKey"])])):w("",!0)])),_:1},8,["visible"])])}}}),fe=e({__name:"SendRecord",props:{show:Boolean,id:Number},emits:[],setup(e,{emit:a}){const d=e,s=n(d,"show",a,!0);m(s,(e=>{}));const u=F([["编号","id"],["赠送数量","each_num"],["赠送说明","user_remark",180],["赠送备注","admin_remark",180],["赠送时间","created_at",170],["操作","operate",180,"right"]]),p=_({handlingId:0,dataSource:[],loading:!1,query:{},pagination:M(),selectedRowKeys:[],batchs:[{label:"批量",value:""}]});D((()=>{h()}));const h=()=>{p.loading=!0,y.act.spin.sendRecord({page:p.pagination.current,page_size:p.pagination.pageSize,activity_id:d.id,...p.query}).then((e=>{var a;p.loading=!1,p.dataSource=e.data.items,1===p.pagination.current&&(p.pagination.total=+(null==(a=e.data)?void 0:a.count))}))},g=e=>{p.pagination={...p.pagination,...e},h()};return(a,n)=>{const d=C,m=W,_=$;return i(),t("div",{key:e.id},[l(_,{visible:r(s),"onUpdate:visible":n[0]||(n[0]=e=>c(s)?s.value=e:null),title:"赠送记录",placement:"right",width:"80%"},{default:o((()=>[l(m,{"row-key":"id","data-source":r(p).dataSource,columns:r(u),scroll:{x:"max-content"},loading:r(p).loading,pagination:r(p).pagination,onChange:g},{bodyCell:o((({column:e,record:n})=>["operate"===e.key?(i(),k(d,{key:0,type:"link",onClick:e=>{s.value=!1,a.$emit("showRecord",n.id)}},{default:o((()=>[f(" 查看赠送用户名单 ")])),_:2},1032,["onClick"])):w("",!0)])),_:1},8,["data-source","columns","loading","pagination"])])),_:1},8,["visible"])])}}}),we=["onClick"],be=["onClick"],Ce=["onClick"],Se=["onClick"],xe=["onClick"],Re=["onClick"],Ue=["onClick"],ze=e({__name:"luckySpin",setup(e){const a=G([]),n=F([["编号","id"],["活动名称","title",180],["活动进行时间","range_at"],["状态","enabled"],["创建时间","created_at"],["操作","operate",180,"right"]]),s=_({handlingId:0,dataSource:[],loading:!1,query:{},pagination:M(),selectedRowKeys:[],showPrizeWords:!1,showPrizeCouponSend:!1,showRecord:!1,showSendRecord:!1,import_id:void 0,showPriviewH5:!1}),c=e=>{s.showRecord=!0,s.import_id=e};D((()=>{u()}));const u=()=>{s.loading=!0,y.act.spin.list({page:s.pagination.current,page_size:s.pagination.pageSize,...s.query}).then((e=>{var a;s.loading=!1,s.dataSource=e.data.items,1===s.pagination.current&&(s.pagination.total=+(null==(a=e.data)?void 0:a.count))}))},p=e=>{s.pagination={...s.pagination,...e},u()},m=e=>{s.query=e,s.pagination={...s.pagination,current:1},u()};return(e,_)=>{const h=C,v=L("Search"),b=J,S=T,x=N,R=H,z=W,I=ie,j=O("permission");return i(),t("div",null,[l(v,{"search-options":r(a),onOnSearch:m},{default:o((()=>[U((i(),k(h,{type:"primary",class:"mr8px",onClick:_[0]||(_[0]=a=>e.$router.push({name:"luckySpinAdd"}))},{default:o((()=>[f(" 添加活动 ")])),_:1})),[[j,[r(y).act.spin.add]]]),U((i(),k(h,{type:"primary",onClick:_[1]||(_[1]=e=>r(s).showPrizeWords=!0)},{default:o((()=>[f(" 中奖结果随机语配置 ")])),_:1})),[[j,[r(y).act.spin.words]]])])),_:1},8,["search-options"]),l(z,{"row-key":"id","data-source":r(s).dataSource,columns:r(n),scroll:{x:"max-content"},loading:r(s).loading,pagination:r(s).pagination,onChange:p},{bodyCell:o((({column:a,record:n})=>["enabled"===a.key?(i(),k(b,{key:0,checked:n.enabled,"onUpdate:checked":e=>n.enabled=e,"un-checked-value":0,"checked-value":1,onChange:e=>(async e=>{await y.act.spin.status({ids:String(e.id),enabled:e.enabled}).catch((a=>{e.enabled=0===e.enabled?1:0}))})(n)},null,8,["checked","onUpdate:checked","onChange"])):w("",!0),"operate"===a.key?(i(),t(g,{key:1},[U((i(),k(h,{type:"link",onClick:a=>e.$router.push({name:"luckySpinEdit",params:{id:n.id}})},{default:o((()=>[f(" 编辑 ")])),_:2},1032,["onClick"])),[[j,[r(y).act.spin.update]]]),U((i(),k(h,{type:"link",danger:"",onClick:e=>(async e=>{Q.confirm({title:"提示",content:"确认删除所选活动?",okText:"确认",cancelText:"取消",async onOk(){await y.act.spin.del({ids:String(e)}),u()},onCancel(){}})})(n.id)},{default:o((()=>[f(" 删除 ")])),_:2},1032,["onClick"])),[[j,[r(y).act.spin.del]]]),l(R,null,{overlay:o((()=>[l(x,null,{default:o((()=>[l(S,null,{default:o((()=>[d("a",{href:"javascript:;",onClick:e=>{r(s).showPriviewH5=!0,r(s).handlingId=n.id}},"预览",8,we)])),_:2},1024),l(S,null,{default:o((()=>[d("a",{href:"javascript:;",onClick:a=>e.$router.push({name:"luckySpinDetail",params:{id:n.id}})},"详情",8,be)])),_:2},1024),l(S,null,{default:o((()=>[U((i(),t("a",{href:"javascript:;",onClick:a=>e.$router.push({name:"luckySpinCopy",params:{id:n.id}})},[f("复制")],8,Ce)),[[j,[r(y).act.spin.copy]]])])),_:2},1024),l(S,null,{default:o((()=>[U((i(),t("a",{href:"javascript:;",onClick:a=>e.$router.push({name:"modPrizes",params:{id:n.id}})},[f("修改奖品")],8,Se)),[[j,[r(y).act.spin.modRate]]])])),_:2},1024),l(S,null,{default:o((()=>[1===n.enabled?U((i(),t("a",{key:0,href:"javascript:;",onClick:e=>{r(s).showPrizeCouponSend=!0,r(s).handlingId=n.id}},[f("赠送抽奖券")],8,xe)),[[j,[r(y).act.spin.sendCoupon]]]):w("",!0)])),_:2},1024),l(S,null,{default:o((()=>[U((i(),t("a",{href:"javascript:;",onClick:e=>{r(s).showSendRecord=!0,r(s).handlingId=n.id}},[f("赠送记录")],8,Re)),[[j,[r(y).act.spin.sendRecord]]])])),_:2},1024),l(S,null,{default:o((()=>[d("a",{href:"javascript:;",onClick:e=>{r(s).showRecord=!0,r(s).handlingId=n.id,r(s).import_id=void 0}},"抽奖记录",8,Ue)])),_:2},1024)])),_:2},1024)])),default:o((()=>[d("a",{class:"ant-dropdown-link",onClick:_[2]||(_[2]=E((()=>{}),["prevent"]))},[f(" 更多 "),l(r(B))])])),_:2},1024)],64)):w("",!0)])),_:1},8,["data-source","columns","loading","pagination"]),l(le,{show:r(s).showPrizeWords,"onUpdate:show":_[3]||(_[3]=e=>r(s).showPrizeWords=e)},null,8,["show"]),l(re,{id:r(s).handlingId,show:r(s).showPrizeCouponSend,"onUpdate:show":_[4]||(_[4]=e=>r(s).showPrizeCouponSend=e)},null,8,["id","show"]),l(ke,{id:r(s).handlingId,show:r(s).showRecord,"onUpdate:show":_[5]||(_[5]=e=>r(s).showRecord=e),import_id:r(s).import_id},null,8,["id","show","import_id"]),r(s).showSendRecord?(i(),k(fe,{key:0,id:r(s).handlingId,show:r(s).showSendRecord,"onUpdate:show":_[6]||(_[6]=e=>r(s).showSendRecord=e),onShowRecord:c},null,8,["id","show"])):w("",!0),r(s).showPriviewH5?(i(),k(I,{key:1,show:r(s).showPriviewH5,"onUpdate:show":_[7]||(_[7]=e=>r(s).showPriviewH5=e),path:"/luckyDraw?is_pre=1&activity_id="+r(s).handlingId},null,8,["show","path"])):w("",!0)])}}});export{ze as default};
