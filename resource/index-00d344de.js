import{cf as e,cg as t,r as n,m as r,ak as a,o,ac as i,ar as l,Q as u,ah as c,a0 as s,c as v,d as f,aK as p,b4 as m,aG as d,l as g,ag as h,be as w,e as b,F as y,ch as C,an as O,aU as P,ae as x,bx as k,ci as j,bv as z,U as M,al as S,as as N,ca as D,aH as A,aI as I,P as E,cj as G,bA as H,ck as L}from"./index-c2ae2a0e.js";import{a as V,g as Y}from"./FolderOpenOutlined-fa174baf.js";function B(e,t,n,r){var a=t+n,o=(n-r)/2;if(n>r){if(t>0)return u({},e,o);if(t<0&&a<r)return u({},e,-o)}else if(t<0||a>r)return u({},e,t<0?o:-o);return{}}var R=Symbol("previewGroupContext"),U=function(e){c(R,e)},X=function(){return s(R,{isPreviewGroup:n(!1),previewUrls:v((function(){return new Map})),setPreviewUrls:function(){},current:n(null),setCurrent:function(){},setShowPreview:function(){},setMousePosition:function(){},registerImage:null,rootClassName:""})};const F=f({compatConfig:{MODE:3},name:"PreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:String,preview:{type:[Boolean,Object],default:!0},icons:{type:Object,default:function(){return{}}}},setup:function(e,t){var o=t.slots,i=v((function(){var t={visible:void 0,onVisibleChange:function(){},getContainer:void 0,current:0};return"object"===p(e.preview)?Q(e.preview,t):t})),u=r(new Map),c=n(),s=v((function(){return i.value.visible})),f=v((function(){return i.value.getContainer})),C=m(!!s.value,{value:s,onChange:function(e,t){var n,r;null===(n=(r=i.value).onVisibleChange)||void 0===n||n.call(r,e,t)}}),O=d(C,2),P=O[0],x=O[1],k=n(null),j=v((function(){return void 0!==s.value})),z=v((function(){return Array.from(u.keys())})),M=v((function(){return z.value[i.value.current]})),S=v((function(){return new Map(Array.from(u).filter((function(e){return!!d(e,2)[1].canPreview})).map((function(e){var t=d(e,2);return[t[0],t[1].url]})))})),N=function(e){c.value=e},D=function(e){k.value=e},A=function(e){null==e||e.stopPropagation(),x(!1),D(null)};return g(M,(function(e){N(e)}),{immediate:!0,flush:"post"}),h((function(){P.value&&j.value&&N(M.value)}),{flush:"post"}),U({isPreviewGroup:n(!0),previewUrls:S,setPreviewUrls:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];u.set(e,{url:t,canPreview:n})},current:c,setCurrent:N,setShowPreview:x,setMousePosition:D,registerImage:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return u.set(e,{url:t,canPreview:n}),function(){u.delete(e)}}}),function(){var t=l({},(w(i.value),i.value));return b(y,null,[o.default&&o.default(),b(W,a(a({},t),{},{"ria-hidden":!P.value,visible:P.value,prefixCls:e.previewPrefixCls,onClose:A,mousePosition:k.value,src:S.value.get(c.value),icons:e.icons,getContainer:f.value}),null)])}}});var T={x:0,y:0};const W=f({compatConfig:{MODE:3},name:"Preview",inheritAttrs:!1,props:a(a({},C()),{},{src:String,alt:String,rootClassName:String,icons:{type:Object,default:function(){return{}}}}),emits:["close","afterClose"],setup:function(e,t){var c,s,f,p,m=t.emit,h=t.attrs,w=r(e.icons),y=w.rotateLeft,C=w.rotateRight,M=w.zoomIn,S=w.zoomOut,N=w.close,D=w.left,A=w.right,I=n(1),E=n(0),G=(c=T,s=n(null),f=r(a({},c)),p=n([]),o((function(){s.value&&i.cancel(s.value)})),[f,function(e){null===s.value&&(p.value=[],s.value=i((function(){var e;p.value.forEach((function(t){e=a(a({},e),t)})),l(f,e),s.value=null}))),p.value.push(e)}]),H=d(G,2),L=H[0],R=H[1],U=function(){return m("close")},F=n(),W=r({originX:0,originY:0,deltaX:0,deltaY:0}),Z=n(!1),K=X(),Q=K.previewUrls,_=K.current,q=K.isPreviewGroup,J=K.setCurrent,$=v((function(){return Q.value.size})),ee=v((function(){return Array.from(Q.value.keys())})),te=v((function(){return ee.value.indexOf(_.value)})),ne=v((function(){return q.value?Q.value.get(_.value):e.src})),re=v((function(){return q.value&&$.value>1})),ae=n({wheelDirection:0}),oe=function(){I.value=1,E.value=0,R(T),m("afterClose")},ie=function(){I.value++,R(T)},le=function(){I.value>1&&I.value--,R(T)},ue=function(e){e.preventDefault(),e.stopPropagation(),te.value>0&&J(ee.value[te.value-1])},ce=function(e){e.preventDefault(),e.stopPropagation(),te.value<$.value-1&&J(ee.value[te.value+1])},se=O(u({},"".concat(e.prefixCls,"-moving"),Z.value)),ve="".concat(e.prefixCls,"-operations-operation"),fe="".concat(e.prefixCls,"-operations-icon"),pe=[{icon:N,onClick:U,type:"close"},{icon:M,onClick:ie,type:"zoomIn"},{icon:S,onClick:le,type:"zoomOut",disabled:v((function(){return 1===I.value}))},{icon:C,onClick:function(){E.value+=90},type:"rotateRight"},{icon:y,onClick:function(){E.value-=90},type:"rotateLeft"}],me=function(){if(e.visible&&Z.value){var t=F.value.offsetWidth*I.value,n=F.value.offsetHeight*I.value,r=Y(F.value),o=r.left,i=r.top,l=E.value%180!=0;Z.value=!1;var u=function(e,t,n,r){var o=V(),i=o.width,l=o.height,u=null;return e<=i&&t<=l?u={x:0,y:0}:(e>i||t>l)&&(u=a(a({},B("x",n,e,i)),B("y",r,t,l))),u}(l?n:t,l?t:n,o,i);u&&R(a({},u))}},de=function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),W.deltaX=e.pageX-L.x,W.deltaY=e.pageY-L.y,W.originX=L.x,W.originY=L.y,Z.value=!0)},ge=function(t){e.visible&&Z.value&&R({x:t.pageX-W.deltaX,y:t.pageY-W.deltaY})},he=function(t){if(e.visible){t.preventDefault();var n=t.deltaY;ae.value={wheelDirection:n}}},we=function(t){e.visible&&re.value&&(t.preventDefault(),t.keyCode===z.LEFT?te.value>0&&J(ee.value[te.value-1]):t.keyCode===z.RIGHT&&te.value<$.value-1&&J(ee.value[te.value+1]))},be=function(){e.visible&&(1!==I.value&&(I.value=1),L.x===T.x&&L.y===T.y||R(T))},ye=function(){};return o((function(){g([function(){return e.visible},Z],(function(){var e,t;ye();var n=P(window,"mouseup",me,!1),r=P(window,"mousemove",ge,!1),a=P(window,"wheel",he,{passive:!1}),o=P(window,"keydown",we,!1);try{window.top!==window.self&&(e=P(window.top,"mouseup",me,!1),t=P(window.top,"mousemove",ge,!1))}catch(i){}ye=function(){n.remove(),r.remove(),a.remove(),o.remove(),e&&e.remove(),t&&t.remove()}}),{flush:"post",immediate:!0}),g([ae],(function(){var e=ae.value.wheelDirection;e>0?le():e<0&&ie()}))})),x((function(){ye()})),function(){var t=e.visible,n=e.prefixCls,r=e.rootClassName;return b(j,a(a({},h),{},{transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:n,onClose:U,afterClose:oe,visible:t,wrapClassName:se,rootClassName:r,getContainer:e.getContainer}),{default:function(){return[b("ul",{class:"".concat(e.prefixCls,"-operations")},[pe.map((function(t){var n=t.icon,r=t.onClick,a=t.type,o=t.disabled;return b("li",{class:O(ve,u({},"".concat(e.prefixCls,"-operations-operation-disabled"),o&&(null==o?void 0:o.value))),onClick:r,key:a},[k(n,{class:fe})])}))]),b("div",{class:"".concat(e.prefixCls,"-img-wrapper"),style:{transform:"translate3d(".concat(L.x,"px, ").concat(L.y,"px, 0)")}},[b("img",{onMousedown:de,onDblclick:be,ref:F,class:"".concat(e.prefixCls,"-img"),src:ne.value,alt:e.alt,style:{transform:"scale3d(".concat(I.value,", ").concat(I.value,", 1) rotate(").concat(E.value,"deg)")}},null)]),re.value&&b("div",{class:O("".concat(e.prefixCls,"-switch-left"),u({},"".concat(e.prefixCls,"-switch-left-disabled"),te.value<=0)),onClick:ue},[D]),re.value&&b("div",{class:O("".concat(e.prefixCls,"-switch-right"),u({},"".concat(e.prefixCls,"-switch-right-disabled"),te.value>=$.value-1)),onClick:ce},[A])]}})}}});var Z=["icons","maskClassName"],K=function(){return{src:String,wrapperClassName:String,wrapperStyle:{type:Object,default:void 0},rootClassName:String,prefixCls:String,previewPrefixCls:String,previewMask:{type:[Boolean,Function],default:void 0},placeholder:M.any,fallback:String,preview:{type:[Boolean,Object],default:!0},onClick:{type:Function},onError:{type:Function}}},Q=function(e,t){var n=a({},e);return Object.keys(t).forEach((function(r){void 0===e[r]&&(n[r]=t[r])})),n},_=0,q=f({compatConfig:{MODE:3},name:"Image",inheritAttrs:!1,props:K(),emits:["click","error"],setup:function(r,i){var l=i.attrs,c=i.slots,s=i.emit,f=v((function(){return r.prefixCls})),h=v((function(){return"".concat(f.value,"-preview")})),w=v((function(){var e={visible:void 0,onVisibleChange:function(){},getContainer:void 0};return"object"===p(r.preview)?Q(r.preview,e):e})),C=v((function(){var e;return null!==(e=w.value.src)&&void 0!==e?e:r.src})),P=v((function(){return r.placeholder&&!0!==r.placeholder||c.placeholder})),k=v((function(){return w.value.visible})),j=v((function(){return w.value.getContainer})),z=v((function(){return void 0!==k.value})),M=function(e,t){var n,r;null===(n=(r=w.value).onVisibleChange)||void 0===n||n.call(r,e,t)},N=m(!!k.value,{value:k,onChange:M}),D=d(N,2),A=D[0],I=D[1];g(A,(function(e,t){M(e,t)}));var E=n(P.value?"loading":"normal");g((function(){return r.src}),(function(){E.value=P.value?"loading":"normal"}));var G=n(null),H=v((function(){return"error"===E.value})),L=X(),V=L.isPreviewGroup,B=L.setCurrent,R=L.setShowPreview,U=L.setMousePosition,F=L.registerImage,T=n(_++),K=v((function(){return r.preview&&!H.value})),q=function(){E.value="normal"},J=function(e){E.value="error",s("error",e)},$=function(e){if(!z.value){var t=Y(e.target),n=t.left,r=t.top;V.value?(B(T.value),U({x:n,y:r})):G.value={x:n,y:r}}V.value?R(!0):I(!0),s("click",e)},ee=function(){I(!1),z.value||(G.value=null)},te=n(null);g((function(){return te}),(function(){"loading"===E.value&&te.value.complete&&(te.value.naturalWidth||te.value.naturalHeight)&&q()}));var ne=function(){};o((function(){g([C,K],(function(){if(ne(),!V.value)return function(){};ne=F(T.value,C.value,K.value),K.value||ne()}),{flush:"post",immediate:!0})})),x((function(){ne()}));var re=function(n){return"number"==typeof(r=n)||e(r)&&"[object Number]"==t(r)?n+"px":n;var r};return function(){var e=r.prefixCls,t=r.wrapperClassName,n=r.fallback,o=r.src,i=r.placeholder,v=r.wrapperStyle,f=r.rootClassName,p=l.width,m=l.height,d=l.crossorigin,g=l.decoding,P=l.alt,x=l.sizes,k=l.srcset,z=l.usemap,M=l.class,N=l.style,D=w.value,I=D.icons,L=D.maskClassName,Y=S(D,Z),B=O(e,t,f,u({},"".concat(e,"-error"),H.value)),R=H.value&&n?n:C.value,U={crossorigin:d,decoding:g,alt:P,sizes:x,srcset:k,usemap:z,class:O("".concat(e,"-img"),u({},"".concat(e,"-img-placeholder"),!0===i),M),style:a({height:m},N)};return b(y,null,[b("div",{class:B,onClick:K.value?$:function(e){s("click",e)},style:a({width:re(p),height:re(m)},v)},[b("img",a(a(a({},U),H.value&&n?{src:n}:{onLoad:q,onError:J,src:o}),{},{ref:te}),null),"loading"===E.value&&b("div",{"aria-hidden":"true",class:"".concat(e,"-placeholder")},[i||c.placeholder&&c.placeholder()]),c.previewMask&&K.value&&b("div",{class:["".concat(e,"-mask"),L]},[c.previewMask()])]),!V.value&&K.value&&b(W,a(a({},Y),{},{"aria-hidden":!A.value,visible:A.value,prefixCls:h.value,onClose:ee,mousePosition:G.value,src:R,alt:P,getContainer:j.value,icons:I,rootClassName:f}),null)])}}});q.PreviewGroup=F;const J=q;const $={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){te(e,t,n[t])}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=function(e,t){var n=ee({},e,t.attrs);return b(N,ee({},n,{icon:$}),null)};ne.displayName="RotateLeftOutlined",ne.inheritAttrs=!1;const re=ne;const ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ie(e,t,n[t])}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=function(e,t){var n=oe({},e,t.attrs);return b(N,oe({},n,{icon:ae}),null)};le.displayName="RotateRightOutlined",le.inheritAttrs=!1;const ue=le;const ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ve(e,t,n[t])}))}return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e,t){var n=se({},e,t.attrs);return b(N,se({},n,{icon:ce}),null)};fe.displayName="ZoomInOutlined",fe.inheritAttrs=!1;const pe=fe;const me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ge(e,t,n[t])}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=function(e,t){var n=de({},e,t.attrs);return b(N,de({},n,{icon:me}),null)};he.displayName="ZoomOutOutlined",he.inheritAttrs=!1;const we=he;var be={rotateLeft:b(re,null,null),rotateRight:b(ue,null,null),zoomIn:b(pe,null,null),zoomOut:b(we,null,null),close:b(D,null,null),left:b(A,null,null),right:b(I,null,null)};const ye=f({compatConfig:{MODE:3},name:"AImagePreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:String},setup:function(e,t){var n=t.attrs,r=t.slots,o=E("image",e).getPrefixCls,i=v((function(){return o("image-preview",e.previewPrefixCls)}));return function(){return b(F,a(a({},a(a({},n),e)),{},{icons:be,previewPrefixCls:i.value}),r)}}});var Ce=f({name:"AImage",inheritAttrs:!1,props:K(),setup:function(e,t){var n=t.slots,r=t.attrs,o=E("image",e),i=o.prefixCls,l=o.rootPrefixCls,u=o.configProvider,c=v((function(){var t=e.preview;if(!1===t)return t;var n="object"===p(t)?t:{};return a(a({icons:be},n),{},{transitionName:G(l.value,"zoom",n.transitionName),maskTransitionName:G(l.value,"fade",n.maskTransitionName)})}));return function(){var t,o=(null===(t=u.locale)||void 0===t?void 0:t.Image)||H.Image,l=e.previewMask,s=void 0===l?n.previewMask||function(){return b("div",{class:"".concat(i.value,"-mask-info")},[b(L,null,null),null==o?void 0:o.preview])}:l;return b(J,a(a({},a(a(a({},r),e),{},{prefixCls:i.value})),{},{preview:c.value}),a(a({},n),{},{previewMask:"function"==typeof s?s:null}))}}});Ce.PreviewGroup=ye,Ce.install=function(e){return e.component(Ce.name,Ce),e.component(Ce.PreviewGroup.name,Ce.PreviewGroup),e};const Oe=Ce;export{Oe as _};
