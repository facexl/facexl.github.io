import{e,as as a,d as t,i as s,r as l,m as i,l as n,a as o,b as r,w as d,f as u,k as c,$ as p,M as m,I as _,A as v,E as f,a0 as g,F as h,n as y,p as b,q as w,z as k,V as D,W as x,by as U,cZ as S,S as I,u as C,o as O,H as T,g as j,s as N,x as z,O as E,B as L,K as B,c_ as F,a3 as R,a4 as q,Z as A,L as J,N as M,_ as V,C as Y,X as P,D as $,c$ as K,v as Q,T as Z}from"./index-c2ae2a0e.js";import{_ as H,a as W,b as X}from"./EditIntegral.vue_vue_type_script_setup_true_lang-5f714004.js";import{_ as G}from"./index-36c6d0ec.js";import{u as ee,_ as ae}from"./useTableColumns-dd067b4d.js";import{_ as te}from"./index-c8577ae4.js";import"./index-3f0a4d2e.js";import{_ as se}from"./index-ef11d20c.js";import{_ as le}from"./index-00d344de.js";import{u as ie}from"./usePagination-c05046ed.js";import{_ as ne}from"./RadioButton-bc4165ed.js";import"./index-8036da2a.js";import"./FolderOpenOutlined-fa174baf.js";import"./tool-d986b095.js";const oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 708c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 00-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8 52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6 40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z"}}]},name:"question-circle",theme:"filled"};function re(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},s=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),s.forEach((function(a){de(e,a,t[a])}))}return e}function de(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var ue=function(t,s){var l=re({},t,s.attrs);return e(a,re({},l,{icon:oe}),null)};ue.displayName="QuestionCircleFilled",ue.inheritAttrs=!1;const ce=ue,pe=t({__name:"EditUserInfo",props:{handlingInfo:{type:Object,default:()=>{}},show:Boolean,id:{type:[String,Number],default:""}},emits:["fresh"],setup(a,{emit:t}){const g=a,h=s(g,"show",t),y=l(),b={required:!0,message:"请输入"},w=i({password:void 0,gender:void 0,phone:void 0,username:void 0});i({loading:!1,btnLoading:!1}),n(h,(e=>{e&&(y.value&&y.value.resetFields(),setTimeout((e=>{for(let a in w)void 0!==g.handlingInfo[a]&&"password"!==a&&(w[a]=g.handlingInfo[a])}),200))})),n((()=>g.handlingInfo),(e=>{e&&h&&(y.value&&y.value.resetFields(),setTimeout((e=>{for(let a in w)void 0!==g.handlingInfo[a]&&"password"!==a&&(w[a]=g.handlingInfo[a])}),200))}));const k=()=>{-1!==w.phone.indexOf("*")&&(w.phone="")},D=()=>{y.value.validate().then((async e=>{-1!==e.phone.indexOf("*")&&(e.phone=void 0),await p.user.editUser({...e,uid:g.id||void 0}),h.value=!1,t("fresh")})).catch((e=>{console.log(e)}))};return(a,t)=>{const s=_,l=v,i=f,n=m;return o(),r("div",null,[e(n,{visible:u(h),"onUpdate:visible":t[2]||(t[2]=e=>c(h)?h.value=e:null),width:"500px",title:"修改用户","mask-closable":!1,onOk:D},{default:d((()=>[e(i,{ref_key:"formRef",ref:y,model:u(w),autocomplete:"off","label-col":{span:6},"wrapper-col":{span:14}},{default:d((()=>[e(l,{label:"用户昵称：",name:"username",rules:b},{default:d((()=>[e(s,{value:u(w).username,"onUpdate:value":t[0]||(t[0]=e=>u(w).username=e),style:{width:"220px"},placeholder:"请输入昵称"},null,8,["value"])])),_:1}),e(l,{label:"手机号码：",name:"phone"},{default:d((()=>[e(s,{value:u(w).phone,"onUpdate:value":t[1]||(t[1]=e=>u(w).phone=e),style:{width:"220px"},placeholder:"请输入手机号码",onFocus:k},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible"])])}}}),me=t({__name:"EditType",props:{handlingInfo:{type:Object,default:()=>{}},show:Boolean,id:{type:[String,Number],default:""}},emits:["fresh"],setup(a,{emit:t}){const _=a,U=g("enums"),S=s(_,"show",t),I=l(),C={required:!0,message:"请输入"},O=i({type:void 0});i({}),n(S,(e=>{e&&(I.value&&I.value.resetFields(),setTimeout((e=>{for(let a in O)void 0!==_.handlingInfo[a]&&"password"!==a&&(O[a]=_.handlingInfo[a])}),200))}));const T=()=>{I.value.validate().then((async e=>{await p.user.editType({...e,uid:_.id||void 0}),S.value=!1,t("fresh")})).catch((e=>{console.log(e)}))};return(a,t)=>{const s=D,l=x,i=v,n=f,p=m;return o(),r("div",null,[e(p,{visible:u(S),"onUpdate:visible":t[1]||(t[1]=e=>c(S)?S.value=e:null),width:"500px",title:"选择类型","mask-closable":!1,onOk:T},{default:d((()=>[e(n,{ref_key:"formRef",ref:I,model:u(O),autocomplete:"off","label-col":{span:6},"wrapper-col":{span:14}},{default:d((()=>[e(i,{label:"类型：",name:"type",rules:C},{default:d((()=>[e(l,{value:u(O).type,"onUpdate:value":t[0]||(t[0]=e=>u(O).type=e),placeholder:"请选择"},{default:d((()=>[(o(!0),r(h,null,y(u(U).member_type,(e=>(o(),b(s,{key:e.value,value:e.value},{default:d((()=>[w(k(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible"])])}}}),_e=t({__name:"EditSuperior",props:{handlingInfo:{type:Object,default:()=>{}},show:Boolean,id:{type:[String,Number],default:""}},emits:["fresh"],setup(a,{emit:t}){const _=a,g=s(_,"show",t),h=l(),y={required:!0,message:"请输入"},b=i({store_id:void 0}),D=i({fetching:!1,storeList:[]});n(g,(e=>{e&&(h.value&&h.value.resetFields(),setTimeout((e=>{for(let a in b)void 0!==_.handlingInfo[a]&&"password"!==a&&(b[a]=_.handlingInfo[a])}),200))}));let C=0;const O=U((e=>{if(!e)return;C+=1;const a=C;D.storeList=[],D.fetching=!0,p.user.storeList({uid:e}).then((e=>{a===C&&(e.data.name&&e.data.id?D.storeList=[{label:e.data.name,value:e.data.id}]:D.storeList=[],D.fetching=!1)}))}),500);n((()=>b.store_id),(()=>{D.fetching=!1}));const T=()=>{h.value.validate().then((async e=>{await p.user.editStore({...e,uid:_.id||void 0}),g.value=!1,t("fresh")})).catch((e=>{console.log(e)}))};return(t,s)=>{const l=v,i=I,n=x,p=f,_=m;return o(),r("div",null,[e(_,{visible:u(g),"onUpdate:visible":s[1]||(s[1]=e=>c(g)?g.value=e:null),width:"500px",title:"修改上级","mask-closable":!1,onOk:T},{default:d((()=>[e(p,{ref_key:"formRef",ref:h,model:u(b),autocomplete:"off","label-col":{span:6},"wrapper-col":{span:14}},{default:d((()=>[e(l,{label:"当前上级ID："},{default:d((()=>[w(k(a.handlingInfo.superior_id||"--"),1)])),_:1}),e(l,{label:"修改上级ID：",name:"store_id",rules:y},{default:d((()=>[e(n,{value:u(b).store_id,"onUpdate:value":s[0]||(s[0]=e=>u(b).store_id=e),"show-search":"",style:{width:"100%"},"filter-option":!1,"not-found-content":u(D).fetching?void 0:null,options:u(D).storeList,onSearch:u(O)},S({_:2},[u(D).fetching?{name:"notFoundContent",fn:d((()=>[e(i,{size:"small"})])),key:"0"}:void 0]),1032,["value","not-found-content","options","onSearch"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible"])])}}}),ve=t({__name:"EditTeam",props:{handlingInfo:{type:Object,default:()=>{}},show:Boolean,id:{type:[String,Number],default:""}},emits:["fresh"],setup(a,{emit:t}){const _=a,g=s(_,"show",t),h=l(),y={required:!0,message:"请输入"},b=i({new_first_uid:void 0}),D=i({fetching:!1,storeList:[]});n(g,(e=>{e&&(h.value&&h.value.resetFields(),setTimeout((e=>{for(let a in b)void 0!==_.handlingInfo[a]&&"password"!==a&&(b[a]=_.handlingInfo[a])}),200))}));let C=0;const O=U((e=>{if(!e)return;C+=1;const a=C;D.storeList=[],D.fetching=!0,p.user.storeList({uid:e}).then((e=>{a===C&&(e.data.name&&e.data.id?D.storeList=[{label:e.data.name,value:e.data.id}]:D.storeList=[],D.fetching=!1)}))}),500);n((()=>b.new_first_uid),(()=>{D.storeList=[],D.fetching=!1}));const T=()=>{h.value.validate().then((async e=>{await p.user.editSuperior({...e,old_first_uid:_.id||void 0}),g.value=!1,t("fresh")})).catch((e=>{console.log(e)}))};return(t,s)=>{const l=v,i=I,n=x,p=f,_=m;return o(),r("div",null,[e(_,{visible:u(g),"onUpdate:visible":s[1]||(s[1]=e=>c(g)?g.value=e:null),width:"500px",title:"转移团队","mask-closable":!1,onOk:T},{default:d((()=>[e(p,{ref_key:"formRef",ref:h,model:u(b),autocomplete:"off","label-col":{span:6},"wrapper-col":{span:14}},{default:d((()=>[e(l,{label:"迁移用户id："},{default:d((()=>[w(k(a.handlingInfo.id),1)])),_:1}),e(l,{label:"上级id：",name:"new_first_uid",rules:y},{default:d((()=>[e(n,{value:u(b).new_first_uid,"onUpdate:value":s[0]||(s[0]=e=>u(b).new_first_uid=e),"show-search":"",style:{width:"100%"},"filter-option":!1,"not-found-content":u(D).fetching?void 0:null,options:u(D).storeList,onSearch:u(O)},S({_:2},[u(D).fetching?{name:"notFoundContent",fn:d((()=>[e(i,{size:"small"})])),key:"0"}:void 0]),1032,["value","not-found-content","options","onSearch"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible"])])}}}),fe=t({__name:"BindUser",props:{handlingInfo:{type:Object,default:()=>{}},show:Boolean,id:{type:[String,Number],default:""}},emits:["fresh"],setup(a,{emit:t}){const g=a,h=s(g,"show",t),y=l(),b={required:!0,message:"请输入"},w=i({to_uid:void 0}),k=i({fetching:!1,storeList:[]});let D=0;U((e=>{if(!e)return;D+=1;const a=D;k.storeList=[],k.fetching=!0,p.user.storeList({uid:e}).then((e=>{a===D&&(e.data.name&&e.data.id?k.storeList=[{label:e.data.name,value:e.data.id}]:k.storeList=[],k.fetching=!1)}))}),500),n((()=>w.to_uid),(()=>{k.storeList=[],k.fetching=!1}));const x=()=>{y.value.validate().then((async e=>{await p.user.bindUser({...e,uid:g.id||void 0}),h.value=!1,t("fresh")})).catch((e=>{console.log(e)}))};return(a,t)=>{const s=_,l=v,i=f,n=m;return o(),r("div",null,[e(n,{visible:u(h),"onUpdate:visible":t[1]||(t[1]=e=>c(h)?h.value=e:null),width:"500px",title:"绑定用户","mask-closable":!1,onOk:x},{default:d((()=>[e(i,{ref_key:"formRef",ref:y,model:u(w),autocomplete:"off","label-col":{span:6},"wrapper-col":{span:14}},{default:d((()=>[e(l,{label:"迁移用户id",name:"to_uid",rules:b},{default:d((()=>[e(s,{value:u(w).to_uid,"onUpdate:value":t[0]||(t[0]=e=>u(w).to_uid=e)},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible"])])}}}),ge=t({__name:"EditPassword",props:{show:Boolean,id:{type:[String,Number],default:""}},emits:["fresh"],setup(a,{emit:t}){const n=a;g("enums");const h=s(n,"show",t),y=l(),b={required:!0,message:"请输入"},w=i({password:void 0});i({});const k=()=>{y.value.validate().then((async e=>{await p.user.editPwd({...e,uid:n.id||void 0}),h.value=!1,t("fresh")})).catch((e=>{console.log(e)}))};return(a,t)=>{const s=_,l=v,i=f,n=m;return o(),r("div",null,[e(n,{visible:u(h),"onUpdate:visible":t[1]||(t[1]=e=>c(h)?h.value=e:null),width:"500px",title:"修改密码","mask-closable":!1,onOk:k},{default:d((()=>[e(i,{ref_key:"formRef",ref:y,model:u(w),autocomplete:"off","label-col":{span:6},"wrapper-col":{span:14}},{default:d((()=>[e(l,{label:"密码",name:"password",rules:b},{default:d((()=>[e(s,{value:u(w).password,"onUpdate:value":t[0]||(t[0]=e=>u(w).password=e),placeholder:"请输入密码",type:"password"},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible"])])}}}),he=e=>(R("data-v-56583e19"),e=e(),q(),e),ye={class:"user-base-info"},be={class:"set-user"},we={class:"avatar_name"},ke={class:"avatar-box"},De=["src"],xe={key:1,src:"https://img.bingovip.shop/img/img_default_user.png",alt:""},Ue={class:"sex"},Se=["src"],Ie={class:"avatar-info"},Ce={class:"id"},Oe={class:"username"},Te={class:"base-info"},je={class:"row"},Ne=he((()=>j("div",{class:"info-title"}," 用户类型 ",-1))),ze={class:"info-content"},Ee={key:0,class:"row"},Le=he((()=>j("div",{class:"info-title"}," 锁粉状态 ",-1))),Be={class:"info-content"},Fe={class:"row"},Re=he((()=>j("div",{class:"info-title"}," 手机号 ",-1))),qe={style:{"text-align":"right","margin-top":"10px"}},Ae={href:""},Je={key:1,class:"info-content"},Me={class:"row"},Ve=he((()=>j("div",{class:"info-title"}," 所属团队ID ",-1))),Ye={class:"info-content"},Pe={class:"row"},$e=he((()=>j("div",{class:"info-title"}," 注册时间 ",-1))),Ke={class:"info-content"},Qe={class:"row"},Ze=he((()=>j("div",{class:"info-title"}," 成为桔掌柜主时间 ",-1))),He={class:"info-content"},We={class:"row"},Xe=he((()=>j("div",{class:"info-title"}," 成为优秀桔掌柜时间 ",-1))),Ge={class:"info-content"},ea=he((()=>j("div",{class:"line",style:{"margin-top":"5px"}},null,-1))),aa={class:"operater-btn"},ta=he((()=>j("div",{class:"line",style:{"margin-top":"10px"}},null,-1))),sa={class:"cooperation-card"},la=["onClick"],ia=["src"],na={key:1,src:"https://img.bingovip.shop/img/img_default_user.png",alt:""},oa={key:1,class:"card-context"},ra={class:"label"},da={class:"id"},ua={class:"username"},ca={key:2,class:"superior-type"},pa=t({__name:"UserBaseInfo",props:{type:String,id:String,initData:{type:Function,default:()=>{}},userData:Object,options:{type:Object,default:null}},emits:["fresh"],setup(a,{emit:t}){const s=a,l=C(),c=i({name:"",sort:""}),g=i({phone:"",btnLoading:!1,password:"",phoneVisible:!1,phoneDialogVisible:!1,userDetails:{username:"",phone:"",avatar:"",birthday:"",created_at:"",gender:null,wechat:"",superiors:[],type_name:"",residecity:""},tagsColor:["","success","info","danger","warning"],tags:["SQE","服务而非","问问","打Uu3天天","还有人喊一","死亡如风我认同感"],typeIcon:"",uid:"",firstSuperiorId:"",showMoneyBtn:!1,money_way_options:[],columnSelectName:"",columnSelect:[],showEditUserInfo:!1,showEditType:!1,showEditSuperior:!1,showEditMoney:!1,showSendCoupon:!1,showEditTeam:!1,showBindUser:!1,showEditPassword:!1,showEditIntegral:!1,loadingInstance:!1});n((()=>s.userData),(e=>{let a=JSON.parse(JSON.stringify(e));a.superiors=[{label:`所属店铺（${a.belong_store_type_name||"--"}）`,avatar:a.belong_store_avatar,superior_id:a.belong_store_id,username:a.belong_store_name},{label:`上级（${a.superior_type_name||"--"}）`,avatar:a.superior_avatar,superior_id:a.superior_id,username:a.superior_name},{label:`上上级（${a.sup_superior_type_name||"--"}）`,avatar:a.sup_superior_avatar,superior_id:a.sup_superior_id,username:a.sup_superior_name},{label:`一级合伙人（${a.first_team_type_name||"--"}）`,avatar:a.first_team_avatar,superior_id:a.first_team_id,username:a.first_team_name},{label:`二级合伙人（${a.second_team_type_name||"--"}）`,avatar:a.second_team_avatar,superior_id:a.second_team_id,username:a.second_team_name},{label:`三级合伙人（${a.three_team_type_name||"--"}）`,avatar:a.three_team_avatar,superior_id:a.three_team_id,username:a.three_team_name}],g.userDetails=a,g.loadingInstance=!1})),O((()=>{g.loadingInstance=!0,setTimeout((e=>{"edit"===s.type&&(g.showEditUserInfo=!0)}),10)}));return(s,i)=>{const n=J,D=M,x=E,U=_,S=L,I=G,C=v,O=f,R=m,q=W,V=X,Y=T("permission");return o(),r("div",ye,[j("div",be,[e(x,null,{overlay:d((()=>[e(D,null,{default:d((()=>[e(n,null,{default:d((()=>[z((o(),r("a",{href:"javascript:;",onClick:i[1]||(i[1]=e=>u(g).showEditUserInfo=!0)},[w("编辑资料")])),[[Y,[u(p).user.editUser]]])])),_:1}),e(n,null,{default:d((()=>[z((o(),r("a",{href:"javascript:;",onClick:i[2]||(i[2]=e=>u(g).showEditMoney=!0)},[w("加扣款")])),[[Y,[u(p).user.editMoney]]])])),_:1}),e(n,null,{default:d((()=>[z((o(),r("a",{href:"javascript:;",onClick:i[3]||(i[3]=e=>u(g).showEditIntegral=!0)},[w("积分调整")])),[[Y,[u(p).user.editIntegral]]])])),_:1}),e(n,null,{default:d((()=>[z((o(),r("a",{href:"javascript:;",onClick:i[4]||(i[4]=e=>u(g).showSendCoupon=!0)},[w("发优惠券")])),[[Y,[u(p).act.coupon.sendSys]]])])),_:1}),e(n,null,{default:d((()=>[z((o(),r("a",{href:"javascript:;",onClick:i[5]||(i[5]=e=>u(g).showEditTeam=!0)},[w("转移团队")])),[[Y,[u(p).user.editSuperior]]])])),_:1}),e(n,null,{default:d((()=>[z((o(),r("a",{href:"javascript:;",onClick:i[6]||(i[6]=e=>u(g).showBindUser=!0)},[w("绑定用户")])),[[Y,[u(p).user.bindUser]]])])),_:1}),e(n,null,{default:d((()=>[z((o(),r("a",{href:"javascript:;",onClick:i[7]||(i[7]=e=>u(g).showEditPassword=!0)},[w("修改密码")])),[[Y,[u(p).user.editPwd]]])])),_:1})])),_:1})])),default:d((()=>[j("a",{class:"ant-dropdown-link",onClick:i[0]||(i[0]=B((()=>{}),["prevent"]))},[e(u(F)),w(" 设置 ")])])),_:1})]),j("div",we,[j("div",ke,["https://img.ryg0212.com/img/img_default_user.png"!==u(g).userDetails.avatar&&u(g).userDetails.avatar?(o(),r("img",{key:0,width:"60px",src:u(g).userDetails.avatar,alt:""},null,8,De)):(o(),r("img",xe)),j("div",Ue,[j("img",{src:s.sex},null,8,Se)])]),j("div",Ie,[j("div",Ce,k(`ID：${u(g).userDetails.id} （${u(g).userDetails.status_name}）`),1),j("div",Oe,k(u(g).userDetails.username||"--"),1)])]),j("div",Te,[j("div",je,[Ne,j("div",ze,k(u(g).userDetails.type_name||"--"),1)]),1==+u(g).userDetails.type?(o(),r("div",Ee,[Le,j("div",Be,k(1==+u(g).userDetails.is_lock?"已锁粉":"未锁粉"),1)])):N("",!0),j("div",Fe,[Re,u(g).userDetails.phone?(o(),b(I,{key:0,visible:u(g).phoneVisible,"onUpdate:visible":i[11]||(i[11]=e=>u(g).phoneVisible=e),title:"查看完整手机号",trigger:"click"},{content:d((()=>[e(U,{value:u(g).password,"onUpdate:value":i[8]||(i[8]=e=>u(g).password=e),placeholder:"请输入密码"},null,8,["value"]),j("div",qe,[e(S,{type:"text",loading:u(g).btnLoading,onClick:i[9]||(i[9]=e=>u(g).phoneVisible=!1)},{default:d((()=>[w(" 取消 ")])),_:1},8,["loading"]),e(S,{type:"primary",onClick:i[10]||(i[10]=e=>{g.password?(g.btnLoading=!0,p.user.seePhone({pwd:g.password,uid:g.userDetails.id}).then((e=>{g.phoneVisible=!1,g.phoneDialogVisible=!0,g.phone=e.data.phone})).finally((()=>{g.btnLoading=!1}))):A.error("请输入密码！")})},{default:d((()=>[w(" 确定 ")])),_:1})])])),default:d((()=>[j("a",Ae,k(u(g).userDetails.phone),1)])),_:1},8,["visible"])):(o(),r("div",Je,k(u(g).userDetails.phone||"--"),1))]),j("div",Me,[Ve,j("div",Ye,k(u(g).userDetails.team_id||"--"),1)]),j("div",Pe,[$e,j("div",Ke,k(u(g).userDetails.created_at||"--"),1)]),j("div",Qe,[Ze,j("div",He,k(u(g).userDetails.store_time||"--"),1)]),j("div",We,[Xe,j("div",Ge,k(u(g).userDetails.excellent_store_time||"--"),1)])]),ea,j("div",aa,[z((o(),b(S,{type:"primary",onClick:i[12]||(i[12]=e=>u(g).showEditType=!0)},{default:d((()=>[w(" 修改类型 ")])),_:1})),[[Y,[u(p).user.editType]]]),z((o(),b(S,{type:"primary",onClick:i[13]||(i[13]=e=>u(g).showEditSuperior=!0)},{default:d((()=>[w(" 调整上级 ")])),_:1})),[[Y,[u(p).user.editStore]]])]),ta,j("div",sa,[(o(!0),r(h,null,y(u(g).userDetails.superiors,((e,a)=>(o(),r("div",{key:a,class:"card-box"},[+e.superior_id?(o(),r("div",{key:0,class:"card-img",onClick:a=>{return t=e.superior_id,void l.push({name:"userDetail",params:{id:t,type:"detail"}});var t}},["https://img.ryg0212.com/img/img_default_user.png"!==e.avatar?(o(),r("img",{key:0,src:e.avatar,alt:""},null,8,ia)):(o(),r("img",na))],8,la)):N("",!0),+e.superior_id?(o(),r("div",oa,[j("div",ra,k(e.label),1),j("div",da," ID："+k(e.superior_id),1),j("div",ua,k(e.username),1)])):N("",!0),+e.superior_id?(o(),r("div",ca,k(e.superior_type),1)):N("",!0)])))),128))]),e(R,{visible:u(g).phoneDialogVisible,"onUpdate:visible":i[14]||(i[14]=e=>u(g).phoneDialogVisible=e),width:"400px",title:"手机号",footer:!1,"mask-closable":!1},{default:d((()=>[e(O,{ref:"formRef",model:u(c),autocomplete:"off","label-col":{span:5},"wrapper-col":{span:18}},{default:d((()=>[e(C,{name:"phone",label:"手机号"},{default:d((()=>[w(k(u(g).phone),1)])),_:1})])),_:1},8,["model"])])),_:1},8,["visible"]),e(pe,{id:a.id,show:u(g).showEditUserInfo,"onUpdate:show":i[15]||(i[15]=e=>u(g).showEditUserInfo=e),"handling-info":u(g).userDetails,onFresh:i[16]||(i[16]=e=>t("fresh"))},null,8,["id","show","handling-info"]),e(me,{id:a.id,show:u(g).showEditType,"onUpdate:show":i[17]||(i[17]=e=>u(g).showEditType=e),"handling-info":u(g).userDetails,onFresh:i[18]||(i[18]=e=>t("fresh"))},null,8,["id","show","handling-info"]),e(_e,{id:a.id,show:u(g).showEditSuperior,"onUpdate:show":i[19]||(i[19]=e=>u(g).showEditSuperior=e),"handling-info":u(g).userDetails,onFresh:i[20]||(i[20]=e=>t("fresh"))},null,8,["id","show","handling-info"]),e(q,{id:a.id,show:u(g).showEditMoney,"onUpdate:show":i[21]||(i[21]=e=>u(g).showEditMoney=e),onFresh:i[22]||(i[22]=e=>t("fresh"))},null,8,["id","show"]),e(V,{id:a.id,show:u(g).showSendCoupon,"onUpdate:show":i[23]||(i[23]=e=>u(g).showSendCoupon=e),onFresh:i[24]||(i[24]=e=>t("fresh"))},null,8,["id","show"]),e(ve,{id:a.id,show:u(g).showEditTeam,"onUpdate:show":i[25]||(i[25]=e=>u(g).showEditTeam=e),"handling-info":u(g).userDetails,onFresh:i[26]||(i[26]=e=>t("fresh"))},null,8,["id","show","handling-info"]),e(fe,{id:a.id,show:u(g).showBindUser,"onUpdate:show":i[27]||(i[27]=e=>u(g).showBindUser=e),"handling-info":u(g).userDetails,onFresh:i[28]||(i[28]=e=>t("fresh"))},null,8,["id","show","handling-info"]),e(ge,{id:a.id,show:u(g).showEditPassword,"onUpdate:show":i[29]||(i[29]=e=>u(g).showEditPassword=e),onFresh:i[30]||(i[30]=e=>t("fresh"))},null,8,["id","show"]),e(H,{id:a.id,show:u(g).showEditIntegral,"onUpdate:show":i[31]||(i[31]=e=>u(g).showEditIntegral=e),onFresh:i[32]||(i[32]=e=>t("fresh"))},null,8,["id","show"])])}}}),ma=V(pa,[["__scopeId","data-v-56583e19"]]),_a=e=>(R("data-v-9d23c014"),e=e(),q(),e),va={class:"user-abstract"},fa={class:"card"},ga=_a((()=>j("div",{class:"card-title"}," 资产信息 ",-1))),ha={class:"card-box"},ya={class:"assets",style:{width:"25%","margin-left":"0"}},ba=_a((()=>j("div",{class:"assets-title mb5"}," 账户余额 ",-1))),wa={class:"assets-content blue-color"},ka=_a((()=>j("i",{class:"iconfont iconcaiwu-fanlizonge blue-color"},null,-1))),Da={class:"assets",style:{width:"25%","margin-right":"0"}},xa=_a((()=>j("div",{class:"assets-title mb5"}," 收益可提现 ",-1))),Ua={class:"assets-content yellow-color"},Sa=_a((()=>j("i",{class:"iconfont iconcaiwu-shouhouzonge yellow-color"},null,-1))),Ia={class:"assets",style:{width:"25%","margin-right":"0"}},Ca=_a((()=>j("div",{class:"assets-title mb5"}," 剩余津贴 ",-1))),Oa={class:"assets-content green-color"},Ta=_a((()=>j("i",{class:"iconfont iconcaiwu-lukuankoukuanzonge green-color"},null,-1))),ja={class:"assets",style:{width:"25%","margin-right":"0"}},Na=_a((()=>j("div",{class:"assets-title mb5"}," 优惠券(张) ",-1))),za={class:"assets-content red-color"},Ea=_a((()=>j("i",{class:"iconfont iconcoupon1 red-color"},null,-1))),La={class:"assets",style:{width:"25%","margin-right":"0"}},Ba=_a((()=>j("div",{class:"assets-title mb5"}," 积分 ",-1))),Fa={class:"assets-content blue2-color"},Ra=_a((()=>j("i",{class:"iconfont iconjifen blue2-color"},null,-1))),qa={class:"card"},Aa=_a((()=>j("div",{class:"card-title"}," 消费信息 ",-1))),Ja={class:"card-box"},Ma={class:"assets bottom",style:{width:"20%","margin-left":"0"}},Va=_a((()=>j("div",{class:"assets-title mb5"}," 订单消费金额 ",-1))),Ya={class:"assets-content blue-color"},Pa=_a((()=>j("i",{class:"iconfont iconcaiwu-shouhouzonge blue-color"},null,-1))),$a={class:"assets-bottom"},Ka={class:"result"},Qa={class:"result"},Za={class:"assets bottom",style:{width:"20%","margin-left":"0"}},Ha=_a((()=>j("div",{class:"assets-title mb5"}," 售后退款金额 ",-1))),Wa={class:"assets-content yellow-color"},Xa=_a((()=>j("i",{class:"iconfont iconcaiwu-chongzhitixianzonge yellow-color"},null,-1))),Ga={class:"assets-bottom"},et={class:"result"},at={class:"result"},tt={class:"card"},st=_a((()=>j("div",{class:"card-title"}," 团队信息 ",-1))),lt={class:"card-box"},it={class:"infor"},nt={class:"assets-content mt17 text-center"},ot=_a((()=>j("div",{class:"assets-title text-center"}," 团队人数 ",-1))),rt={class:"infor"},dt={class:"assets-content mt17 text-center"},ut=_a((()=>j("div",{class:"assets-title text-center"}," 桔掌柜人数 ",-1))),ct={class:"infor"},pt={class:"assets-content mt17 text-center"},mt=_a((()=>j("div",{class:"assets-title text-center"}," 会员人数 ",-1))),_t={class:"infor"},vt={class:"assets-content mt17 text-center"},ft=_a((()=>j("div",{class:"assets-title text-center"}," 桔掌柜奖励 ",-1))),gt={class:"infor",style:{"border-right":"none"}},ht={class:"assets-content mt17 text-center"},yt=_a((()=>j("div",{class:"assets-title text-center"}," 会员奖励 ",-1))),bt={class:"card"},wt=_a((()=>j("div",{class:"card-title"}," 收货地址 ",-1))),kt=V(t({__name:"UserAbstract",props:{id:{type:[String,Number],default:""},userDetails:[Object]},setup(a){const t=a,s=ee([["收货人","name"],["电话/手机","phone"],["详细地址","full_address"],["默认地址","is_default"]]),l=i({dataTotal:{},loadingInstance:null,capital:{balance:0,withdraw_total:0,coupon_total:0,sale_compensate:0,integral:0},trade:{total_member_count:0,total_store_count:1,team_total:1,fans_profit:"0.00",store_profit:"0.00"},member_addresses:[],userDetails:{}});O((()=>{setTimeout((e=>{c()}))})),n((()=>t.id),(()=>{c()}));const c=()=>{p.user.userAbstract({uid:t.id}).then((e=>{const{data:a}=e;a.capital_info&&(l.capital=a.capital_info),a.team_info&&(l.trade=a.team_info),l.member_addresses=a.address_info.items||[],l.member_addresses.forEach((e=>{e.phone=e.phone+"",e.phone&&(e.phone=e.phone.substring(0,3)+"****"+e.phone.substring(7,11))}))})),p.user.orderOverview({uid:t.id}).then((e=>{const{data:a}=e;l.dataTotal=a}))};return(a,t)=>{const i=se,n=ae;return o(),r("div",va,[j("div",fa,[ga,j("div",ha,[j("div",ya,[ba,j("div",wa," ¥"+k(u(l).capital.balance||"0.00"),1),ka]),j("div",Da,[xa,j("div",Ua," ¥"+k(u(l).capital.withdraw_total||"0.00"),1),Sa]),j("div",Ia,[Ca,j("div",Oa," ¥"+k(u(l).capital.allowance||"0.00"),1),Ta]),j("div",ja,[Na,j("div",za,k(u(l).capital.coupon_total||"0"),1),Ea]),j("div",La,[Ba,j("div",Fa,k(u(l).capital.integral||"0"),1),Ra])])]),j("div",qa,[Aa,j("div",Ja,[j("div",Ma,[Va,j("div",Ya,k(u(l).dataTotal.actual_consumption||"0.00"),1),Pa,j("div",$a,[j("div",null,[w(" 成单量 "),j("span",Ka,k(u(l).dataTotal.success_order_quantity||"0"),1)]),j("div",null,[w(" 购买商品数 "),j("span",Qa,k(u(l).dataTotal.success_goods_quantity||"0"),1)])])]),j("div",Za,[Ha,j("div",Wa,k(u(l).dataTotal.sale_compensate||"0.00"),1),Xa,j("div",Ga,[j("div",null,[w(" 售后订单数 "),j("span",et,k(u(l).dataTotal.sale_orders_num||"0"),1)]),j("div",null,[w(" 售后商品数 "),j("span",at,k(u(l).dataTotal.sale_goods_num||"0"),1)])])])])]),j("div",tt,[st,j("div",lt,[j("div",it,[j("div",nt,k(1===u(l).userDetails.type?"--":u(l).trade.team_total),1),ot]),j("div",rt,[j("div",dt,k(1===u(l).userDetails.type?"--":u(l).trade.total_store_count),1),ut]),j("div",ct,[j("div",pt,k(1===u(l).userDetails.type?"--":u(l).trade.total_member_count),1),mt]),j("div",_t,[j("div",vt,k(1===u(l).userDetails.type?"--":u(l).trade.store_profit),1),ft]),j("div",gt,[j("div",ht,k(1===u(l).userDetails.type?"--":u(l).trade.fans_profit),1),yt])])]),j("div",bt,[wt,j("div",null,[e(n,{"row-key":"id","data-source":u(l).member_addresses,columns:u(s),scroll:{x:"max-content"}},{bodyCell:d((({column:e,record:a})=>["is_default"===e.key?(o(),b(i,{key:0,checked:a.is_default,"onUpdate:checked":e=>a.is_default=e,"un-checked-value":0,"checked-value":1,disabled:""},null,8,["checked","onUpdate:checked"])):N("",!0)])),_:1},8,["data-source","columns"])])])])}}}),[["__scopeId","data-v-9d23c014"]]),Dt=e=>(R("data-v-f399cf21"),e=e(),q(),e),xt={class:"team-relation"},Ut={class:"card",style:{"margin-left":"0"}},St={class:"card-box"},It={class:"assets bottom",style:{width:"25%","margin-left":"0"}},Ct=Dt((()=>j("div",{class:"assets-title mb5"}," 团队人数 ",-1))),Ot={class:"assets-content blue-color"},Tt=Dt((()=>j("i",{class:"iconfont iconyonghuguanli1 blue-color"},null,-1))),jt={class:"assets-bottom"},Nt={class:"f"},zt={class:"result"},Et={class:"result"},Lt={class:"f"},Bt={class:"result"},Ft={class:"result"},Rt={class:"assets bottom",style:{width:"25%","margin-left":"0"}},qt=Dt((()=>j("div",{class:"assets-title mb5"}," 团队奖励 ",-1))),At={class:"assets-content yellow-color"},Jt={class:"desc"},Mt=Dt((()=>j("i",{class:"iconfont iconcaiwu-fanlizonge yellow-color"},null,-1))),Vt={class:"assets-bottom"},Yt={class:"result"},Pt={class:"result"},$t={class:"content"},Kt={style:{"margin-bottom":"6px"}},Qt={style:{"margin-bottom":"6px"}},Zt=Dt((()=>j("div",{class:"question-desc"},[w(" 统计对象（1）当前店主本人A "),j("br"),w("”个人消费金额”-- 店主A自购的累计实付金额（含会员时期的下单自购），等于在用户详情中看到的“订单消费金额”数值 "),j("br"),w("”团队消费订单数” -- 店主A 的所有返利订单 以及 其作为店主时自购的订单数 之和 "),j("br"),w("”团队消费金额” -- 店主A 的所有返利订单 以及 其作为店主时自购的订单实付金额 之和 "),j("br"),w("统计对象（2）当前店主的直属店主B "),j("br"),w("”个人消费金额”-- 店主B的所有自购订单中与店主A有返利关系的订单总数 "),j("br"),w("”团队消费订单数“ -- 店主B的所有返利订单中与店主A有返利关系的订单总数 "),j("br"),w("“团队消费金额”--店主B的所有返利订单中与店主A有返利关系的订单实付金额之和 "),j("br"),w("统计对象（3）当前店主的直属会员C "),j("br"),w("“个人消费金额 -- 会员C的所有自购订单中与店主A有返利关系的订单实付金额之和“ "),j("br"),w("“团队消费订单数--会员C的所有自购订单中与店主A有返利关系的订单数之和 “ "),j("br"),w("”团队消费金额 -- 会员C的所有自购订单中与店主A有返利关系的订单实付金额之和“，数值同个人消费金额 "),j("br")],-1))),Ht=V(t({__name:"UserTeamRelation",props:{id:{type:[String,Number],default:""},userDetails:[Object]},setup(a){const t=a,s=g("enums"),l=ee([["用户ID","id"],["头像","useravatar"],["昵称","username",300],["用户类型","type_name"],["关系","relation_type_name"],["个人消费金额","actual_consumption"],["团队消费订单数","order_num"],["团队消费金额","achievement"],["注册时间","created_at"]]),c=ee([["ID","id"],["头像","useravatar"],["昵称","username",300],["用户类型","type_name"],["返利类型","remark"],["下单贡献佣金","real_money"],["注册时间","created_at"]]),v=ee([["ID","mid"],["头像","useravatar"],["昵称","username",300],["用户类型","type_name"],["返利类型","remark"],["订单号","order_sn"],["商品标题","goods_title",300],["佣金","real_money"],["返利状态","status_name"]]),f={keywords_type:1,keywords:"",user_type:3,clear_type:void 0,relation_type:1},U=i({questionVisible:!1,formData:{...f},loadingInstance:null,relation:{},clear_type_map:{},rebate_type:[{text:"客户奖励",key:1},{text:"店主奖励",key:2}],clear_status_map:{},list_type:1,columns1:l,columns2:c,columns3:v,columns:JSON.parse(JSON.stringify(l)),pagination:ie(),dataSource:[],loading:!1});O((()=>{setTimeout((e=>{C(),T()}))})),n((()=>t.id),(()=>{C(),I()})),n((()=>U.list_type),(e=>{I()}));const S=()=>{U.pagination={...U.pagination,current:1},T()},I=()=>{U.formData={...f},U.pagination={...U.pagination,current:1},T()},C=async()=>{try{U.loading=!0;const{data:e}=await p.user.teamRelationOverview({uid:t.id});U.relation=e}catch(e){}finally{U.loading=!1}},T=async()=>{try{U.loading=!0;let e=JSON.parse(JSON.stringify(U.formData));e.keywords||(e.keywords_type=void 0,e.keywords=void 0);const{data:a}=await p.user.teamRelationList({page:U.pagination.current,page_size:U.pagination.pageSize,...e,uid:t.id,list_type:U.list_type});1===U.pagination.current&&(U.pagination.total=+(null==a?void 0:a.count)),U.columns=JSON.parse(JSON.stringify(U[`columns${U.list_type}`])),U.dataSource=a.items,a.clear_type_map[1]&&(U.clear_type_map=a.clear_type_map),a.clear_status_map[1]&&(U.clear_status_map=a.clear_status_map)}catch(e){}finally{U.loading=!1}},z=e=>{U.pagination={...U.pagination,...e},T()};return(a,t)=>{const l=ne,i=te,n=D,c=x,p=_,v=L,f=le,g=se,C=ae,O=m;return o(),r("div",xt,[j("div",Ut,[j("div",St,[j("div",It,[Ct,j("div",Ot,k(u(U).relation.team_total),1),Tt,j("div",jt,[j("div",Nt,[w(" 直属桔掌柜 "),j("span",zt,k(u(U).relation.store_count),1)]),j("div",null,[w(" 直属会员 "),j("span",Et,k(u(U).relation.member_count),1)]),j("div",Lt,[w(" 间接桔掌柜 "),j("span",Bt,k(u(U).relation.indirect_store_count),1)]),j("div",null,[w(" 间接会员 "),j("span",Ft,k(u(U).relation.indirect_member_count),1)])])]),j("div",Rt,[qt,j("div",At,[w(" ¥"+k(u(U).relation.all_profit)+" ",1),j("span",Jt,"含待结算 ¥"+k(u(U).relation.all_wait_profit),1)]),Mt,j("div",Vt,[j("div",null,[w(" 桔掌柜奖励 "),j("span",Yt,"¥"+k(u(U).relation.store_profit),1)]),j("div",null,[w(" 会员奖励 "),j("span",Pt,"¥"+k(u(U).relation.fans_profit),1)])])])])]),j("div",$t,[j("div",Kt,[e(i,{value:u(U).list_type,"onUpdate:value":t[0]||(t[0]=e=>u(U).list_type=e)},{default:d((()=>[e(l,{value:1},{default:d((()=>[w(" 团队成员 ")])),_:1}),e(l,{value:2},{default:d((()=>[w(" 下单返利用户 ")])),_:1}),e(l,{value:3},{default:d((()=>[w(" 团队奖励明细 ")])),_:1})])),_:1},8,["value"]),j("span",{class:"question",onClick:t[1]||(t[1]=e=>u(U).questionVisible=!0)},[e(u(ce)),w(" 字段说明 ")])]),j("div",Qt,[e(c,{value:u(U).formData.user_type,"onUpdate:value":t[2]||(t[2]=e=>u(U).formData.user_type=e),placeholder:"请选择用户类型",style:{width:"130px","margin-right":"5px"},"allow-clear":!1},{default:d((()=>[(o(!0),r(h,null,y(u(s).member_type,(e=>(o(),b(n,{key:e.value,value:e.value},{default:d((()=>[w(k(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"]),3===u(U).list_type?(o(),b(c,{key:0,value:u(U).formData.clear_type,"onUpdate:value":t[3]||(t[3]=e=>u(U).formData.clear_type=e),placeholder:"请选择返利收入类型",style:{width:"170px","margin-right":"5px"},"allow-clear":""},{default:d((()=>[(o(!0),r(h,null,y(u(U).clear_type_map,((e,a)=>(o(),b(n,{key:a,value:a},{default:d((()=>[w(k(e),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])):N("",!0),3===u(U).list_type?(o(),b(c,{key:1,value:u(U).formData.clear_status,"onUpdate:value":t[4]||(t[4]=e=>u(U).formData.clear_status=e),placeholder:"请选择返利状态",style:{width:"140px","margin-right":"5px"},"allow-clear":""},{default:d((()=>[(o(!0),r(h,null,y(u(U).clear_status_map,((e,a)=>(o(),b(n,{key:a,value:a},{default:d((()=>[w(k(e),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])):N("",!0),e(p,{value:u(U).formData.keywords,"onUpdate:value":t[6]||(t[6]=e=>u(U).formData.keywords=e),placeholder:"用户ID/昵称",class:"input-with-select",style:{width:"240px","margin-right":"5px"}},{addonBefore:d((()=>[e(c,{value:u(U).formData.keywords_type,"onUpdate:value":t[5]||(t[5]=e=>u(U).formData.keywords_type=e),placeholder:"请选择",style:{width:"90px"}},{default:d((()=>[e(n,{value:1},{default:d((()=>[w(" 用户ID ")])),_:1}),e(n,{value:2},{default:d((()=>[w(" 昵称 ")])),_:1})])),_:1},8,["value"])])),_:1},8,["value"]),1===u(U).list_type?(o(),b(c,{key:2,value:u(U).formData.relation_type,"onUpdate:value":t[7]||(t[7]=e=>u(U).formData.relation_type=e),placeholder:"关系",style:{width:"140px","margin-right":"5px"},"allow-clear":""},{default:d((()=>[e(n,{value:1},{default:d((()=>[w(" 直接 ")])),_:1}),e(n,{value:2},{default:d((()=>[w(" 间接 ")])),_:1})])),_:1},8,["value"])):N("",!0),e(v,{type:"primary",onClick:S},{default:d((()=>[w(" 查询 ")])),_:1}),e(v,{onClick:I},{default:d((()=>[w(" 重置 ")])),_:1})]),e(C,{"data-source":u(U).dataSource,columns:u(U).columns,scroll:{x:"max-content"},loading:u(U).loading,pagination:u(U).pagination,onChange:z},{bodyCell:d((({column:e,record:a})=>["useravatar"===e.key?(o(),b(f,{key:0,width:50,src:a.useravatar},null,8,["src"])):N("",!0),"status"===e.key?(o(),b(g,{key:1,checked:a.status,"onUpdate:checked":e=>a.status=e,"un-checked-value":"1","checked-value":"2"},null,8,["checked","onUpdate:checked"])):N("",!0)])),_:1},8,["data-source","columns","loading","pagination"]),e(O,{visible:u(U).questionVisible,"onUpdate:visible":t[8]||(t[8]=e=>u(U).questionVisible=e),title:"加扣款",width:"650px","mask-closable":!1,footer:null},{default:d((()=>[Zt])),_:1},8,["visible"])])])}}}),[["__scopeId","data-v-f399cf21"]]),Wt=e=>(R("data-v-18ffb2f0"),e=e(),q(),e),Xt={class:"funds-detail"},Gt={class:"card",style:{"margin-left":"0"}},es={class:"card-box"},as={class:"assets bottom",style:{width:"25%","margin-left":"0"}},ts=Wt((()=>j("div",{class:"assets-title mb5"}," 余额 ",-1))),ss={class:"assets-content blue-color"},ls=Wt((()=>j("i",{class:"iconfont iconcaiwu-fanlizonge blue-color"},null,-1))),is={class:"assets-bottom"},ns={class:"f"},os={class:"result"},rs={class:"result"},ds={class:"f"},us={class:"result"},cs={class:"result"},ps={class:"assets bottom",style:{width:"30%","margin-left":"0"}},ms=Wt((()=>j("div",{class:"assets-title mb5"}," 津贴 ",-1))),_s={class:"assets-content yellow-color"},vs=Wt((()=>j("i",{class:"iconfont iconcaiwu-shouhouzonge yellow-color"},null,-1))),fs={class:"assets-bottom"},gs={class:"f"},hs={class:"result"},ys={class:"result"},bs={class:"result"},ws={class:"assets bottom",style:{width:"25%","margin-left":"0"}},ks=Wt((()=>j("div",{class:"assets-title mb5"}," 收益 ",-1))),Ds={class:"assets-content green-color"},xs=Wt((()=>j("i",{class:"iconfont iconjifen green-color"},null,-1))),Us={class:"assets-bottom f"},Ss={class:"f"},Is={class:"result"},Cs={class:"result"},Os={class:"f"},Ts={class:"result"},js={class:"result"},Ns={class:"content"},zs=V(t({__name:"UserFunds",props:{id:{type:[String,Number],default:""},userDetails:[Object]},setup(a){const t=a,s=ee([["收支类型","type_name"],["关联订单","order_no"],["资金(元)","money"],["交易后余额(元)","balance"],["创建时间","created_at"],["操作人","admin_username"],["备注","remark"]]),l={keywords_type:1,keywords:"",user_type:3,clear_type:void 0,time:[]},c=i({loading:!1,loadingInstance:"",tableData:[],page:1,pageSize:10,count:0,balance_type:-1,formData:{...l},type_map:[],wallet:{},red_packet:{},clearing:{},pagination:ie(),dataSource:[]});O((()=>{setTimeout((e=>{c.balance_type=3,v()}))})),n((()=>c.balance_type),(e=>{f()})),n((()=>t.id),(()=>{_()}));const m=e=>{c.pagination={...c.pagination,current:1},f()},_=()=>{c.formData={...l},c.pagination={...c.pagination,current:1},f()},v=async()=>{try{c.loading=!0;const{data:e}=await p.user.balanceOverview({uid:t.id});c.wallet=e.wallet,c.red_packet=e.red_packet,c.clearing=e.clearing}catch(e){}finally{c.loading=!1}},f=async()=>{try{c.loading=!0;let e=JSON.parse(JSON.stringify(c.formData));e.keywords||(e.keywords_type=void 0,e.keywords=void 0),e.time&&e.time.length&&(e.time_start=e.time[0],e.time_end=e.time[1]),delete e.time;const{data:a}=await p.user.balanceList({page:c.pagination.current,page_size:c.pagination.pageSize,...e,uid:t.id,balance_type:c.balance_type});1===c.pagination.current&&(c.pagination.total=+(null==a?void 0:a.count)),c.dataSource=a.items,c.type_map=a.type_map}catch(e){}finally{c.loading=!1}},g=e=>{c.pagination={...c.pagination,...e},f()};return(a,t)=>{const l=ne,i=te,n=Y,p=D,v=x,f=P,U=L,S=$,I=se,C=ae;return o(),r("div",Xt,[j("div",Gt,[j("div",es,[j("div",as,[ts,j("div",ss," ¥"+k(u(c).wallet.wallet),1),ls,j("div",is,[j("div",ns,[w(" 已消费 "),j("span",os,"¥"+k(u(c).wallet.consumption),1)]),j("div",null,[w(" 累计充值 "),j("span",rs,"¥"+k(u(c).wallet.money_recharge),1)]),j("div",ds,[w(" 后台加扣 "),j("span",us,"¥"+k(u(c).wallet.add_and_deduct),1)]),j("div",null,[w(" 余额转入 "),j("span",cs,"¥"+k(u(c).wallet.transfer),1)])])]),j("div",ps,[ms,j("div",_s," ¥"+k(u(c).red_packet.red_packet),1),vs,j("div",fs,[j("div",gs,[w(" 提现中 "),j("span",hs,"¥"+k(u(c).red_packet.withdrawing),1)]),j("div",null,[w(" 已提现 "),j("span",ys,"¥"+k(u(c).red_packet.withdraw),1)]),j("div",null,[w(" 累计售后补偿 "),j("span",bs,"¥"+k(u(c).red_packet.sale_add),1)])])]),j("div",ws,[ks,j("div",Ds," ¥"+k(u(c).clearing.balance),1),xs,j("div",Us,[j("div",Ss,[w(" 后台加扣 "),j("span",Is,"¥"+k(u(c).clearing.add_and_deduct),1)]),j("div",null,[w(" 提现中 "),j("span",Cs,"¥"+k(u(c).clearing.withdrawing),1)]),j("div",Os,[w(" 已提现 "),j("span",Ts,"¥"+k(u(c).clearing.withdraw),1)]),j("div",null,[w(" 累计结算 "),j("span",js,"¥"+k(u(c).clearing.all_profit),1)])])])])]),j("div",Ns,[e(S,{style:{"text-align":"left","margin-bottom":"16px"}},{default:d((()=>[e(n,{span:7},{default:d((()=>[e(i,{value:u(c).balance_type,"onUpdate:value":t[0]||(t[0]=e=>u(c).balance_type=e)},{default:d((()=>[e(l,{value:2},{default:d((()=>[w(" 余额 ")])),_:1}),e(l,{value:3},{default:d((()=>[w(" 津贴 ")])),_:1}),e(l,{value:1},{default:d((()=>[w(" 收益 ")])),_:1})])),_:1},8,["value"])])),_:1}),e(n,{span:17,style:{"text-align":"right"}},{default:d((()=>[e(v,{value:u(c).formData.type,"onUpdate:value":t[1]||(t[1]=e=>u(c).formData.type=e),placeholder:"请选择收支类型",style:{width:"170px","margin-right":"16px","text-align":"left"},"allow-clear":""},{default:d((()=>[(o(!0),r(h,null,y(u(c).type_map,((e,a)=>(o(),b(p,{key:a,value:a},{default:d((()=>[w(k(e),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"]),e(f,{value:u(c).formData.time,"onUpdate:value":t[2]||(t[2]=e=>u(c).formData.time=e),"value-format":"YYYY-MM-DD",style:{height:"32px !important","margin-right":"16px"},placeholder:["记录时间","结束日期"]},null,8,["value"]),e(U,{type:"primary",onClick:m},{default:d((()=>[w(" 查询 ")])),_:1}),e(U,{style:{"margin-left":"8px !important"},onClick:_},{default:d((()=>[w(" 重置 ")])),_:1})])),_:1})])),_:1}),e(C,{"data-source":u(c).dataSource,columns:u(s),scroll:{x:"max-content"},loading:u(c).loading,pagination:u(c).pagination,onChange:g},{bodyCell:d((({column:e,record:a})=>["status"===e.key?(o(),b(I,{key:0,checked:a.status,"onUpdate:checked":e=>a.status=e,"un-checked-value":"1","checked-value":"2"},null,8,["checked","onUpdate:checked"])):N("",!0)])),_:1},8,["data-source","columns","loading","pagination"])])])}}}),[["__scopeId","data-v-18ffb2f0"]]),Es=e=>(R("data-v-ba32527e"),e=e(),q(),e),Ls={class:"order-component-detail"},Bs={class:"card",style:{"margin-left":"0"}},Fs={class:"card-box"},Rs={class:"assets bottom",style:{width:"25%","margin-left":"0"}},qs=Es((()=>j("div",{class:"assets-title mb5"}," 订单消费金额 ",-1))),As={class:"assets-content blue-color"},Js=Es((()=>j("i",{class:"iconfont iconcaiwu-shouhouzonge blue-color"},null,-1))),Ms={class:"assets-bottom"},Vs={class:"result"},Ys={class:"result"},Ps={class:"assets bottom",style:{width:"25%","margin-left":"0"}},$s=Es((()=>j("div",{class:"assets-title mb5"}," 售后退款金额 ",-1))),Ks={class:"assets-content yellow-color"},Qs=Es((()=>j("i",{class:"iconfont iconcaiwu-chongzhitixianzonge yellow-color"},null,-1))),Zs={class:"assets-bottom"},Hs={class:"result"},Ws={class:"result"},Xs={class:"content"},Gs=V(t({__name:"UserOrderList",props:{id:{type:[String,Number],default:""},userDetails:[Object]},setup(a){const t=a,s=ee([["订单号","order_sn"],["订单状态","status_name"],["商品标题","goods_title"],["商品SKU","skus"],["购买数量","nums"],["收货人姓名","receiver_name"],["优惠金额","discount_fee"],["订单金额","actual_fee"],["运费","insurance_fee"],["支付方式","pay_type_name"],["下单时间","created_at"]]),l={time:[],cate_id:void 0,order_sn:"",goods_title:""},c=i({loading:!1,categories_map:[],loadingInstance:null,page:1,pageSize:10,count:0,tableData:[],formData:{...l},dataTotal:{},pagination:ie(),dataSource:[]});O((()=>{setTimeout((e=>{f(),g()}))}));const m=e=>{c.pagination={...c.pagination,current:1},g()};n((()=>t.id),(()=>{f(),v()}));const v=()=>{c.formData={...l},c.pagination={...c.pagination,current:1},g()},f=async()=>{try{c.loading=!0,p.user.orderOverview({uid:t.id}).then((e=>{const{data:a}=e;c.dataTotal=a}))}catch(e){}finally{c.loading=!1}},g=async()=>{try{c.loading=!0;let e=JSON.parse(JSON.stringify(c.formData));e.keywords||(e.keywords_type=void 0,e.keywords=void 0),e.time&&e.time.length&&(e.time_start=e.time[0],e.time_end=e.time[1]),delete e.time;const{data:a}=await p.order.orderList.list({page:c.pagination.current,page_size:c.pagination.pageSize,...e,uid:t.id,status:-1});1===c.pagination.current&&(c.pagination.total=+(null==a?void 0:a.count)),c.dataSource=a.items,c.categories_map=a.categories_map}catch(e){}finally{c.loading=!1}},U=e=>{c.pagination={...c.pagination,...e},g()};return(a,t)=>{const l=D,i=x,n=_,p=P,f=L,g=Y,S=$,I=se,C=ae;return o(),r("div",Ls,[j("div",Bs,[j("div",Fs,[j("div",Rs,[qs,j("div",As,k(u(c).dataTotal.actual_consumption),1),Js,j("div",Ms,[j("div",null,[w(" 成单量 "),j("span",Vs,k(u(c).dataTotal.success_order_quantity),1)]),j("div",null,[w(" 购买商品数 "),j("span",Ys,k(u(c).dataTotal.success_goods_quantity),1)])])]),j("div",Ps,[$s,j("div",Ks,k(u(c).dataTotal.sale_compensate),1),Qs,j("div",Zs,[j("div",null,[w(" 售后订单数 "),j("span",Hs,k(u(c).dataTotal.sale_orders_num),1)]),j("div",null,[w(" 售后商品数 "),j("span",Ws,k(u(c).dataTotal.sale_goods_num),1)])])])])]),j("div",Xs,[e(S,{style:{"text-align":"left","margin-bottom":"16px"}},{default:d((()=>[e(g,{span:24},{default:d((()=>[e(i,{value:u(c).formData.cate_id,"onUpdate:value":t[0]||(t[0]=e=>u(c).formData.cate_id=e),placeholder:"请选择商品类型",style:{width:"200px","margin-right":"8px"},"allow-clear":""},{default:d((()=>[(o(!0),r(h,null,y(u(c).categories_map,((e,a)=>(o(),b(l,{key:a,value:a},{default:d((()=>[w(k(e),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"]),e(n,{value:u(c).formData.order_sn,"onUpdate:value":t[1]||(t[1]=e=>u(c).formData.order_sn=e),placeholder:"请输入订单号",style:{width:"180px","margin-right":"8px"}},null,8,["value"]),e(n,{value:u(c).formData.goods_title,"onUpdate:value":t[2]||(t[2]=e=>u(c).formData.goods_title=e),placeholder:"请输入商品名称","allow-clear":"",style:{width:"180px","margin-right":"8px"}},null,8,["value"]),e(p,{value:u(c).formData.time,"onUpdate:value":t[3]||(t[3]=e=>u(c).formData.time=e),"value-format":"YYYY-MM-DD",placeholder:["下单开始时间","下单结束时间"]},null,8,["value"]),e(f,{type:"primary",style:{"margin-left":"8px !important"},onClick:m},{default:d((()=>[w(" 查询 ")])),_:1}),e(f,{style:{"margin-left":"8px !important"},onClick:v},{default:d((()=>[w(" 重置 ")])),_:1})])),_:1})])),_:1}),e(C,{"data-source":u(c).dataSource,columns:u(s),scroll:{x:"max-content"},loading:u(c).loading,pagination:u(c).pagination,onChange:U},{bodyCell:d((({column:e,record:a})=>["status"===e.key?(o(),b(I,{key:0,checked:a.status,"onUpdate:checked":e=>a.status=e,"un-checked-value":"1","checked-value":"2"},null,8,["checked","onUpdate:checked"])):N("",!0)])),_:1},8,["data-source","columns","loading","pagination"])])])}}}),[["__scopeId","data-v-ba32527e"]]),el=e=>(R("data-v-ed88f62d"),e=e(),q(),e),al={class:"user-coupon"},tl={class:"card",style:{"margin-left":"0"}},sl={class:"card-box"},ll={class:"assets bottom",style:{width:"25%","margin-left":"0"}},il=el((()=>j("div",{class:"assets-title mb5"}," 商品满减券 ",-1))),nl={class:"assets-content blue-color"},ol=el((()=>j("i",{class:"iconfont iconcaiwu-dingdanzonge blue-color"},null,-1))),rl={class:"assets-bottom f"},dl={class:"result"},ul={class:"result"},cl={class:"result"},pl={class:"assets bottom",style:{width:"25%","margin-left":"0"}},ml=el((()=>j("div",{class:"assets-title"}," 已抵扣金额 ",-1))),_l={class:"assets-content green-color"},vl=el((()=>j("i",{class:"iconfont iconcaiwu-fanlizonge green-color"},null,-1))),fl={class:"content"},gl=V(t({__name:"UserCoupon",props:{id:{type:[String,Number],default:""},userDetails:[Object]},setup(a){const t=a,s=ee([["优惠券ID","cid"],["优惠券名称","name"],["满金额","limit_money"],["发放时间","created_at"],["到期时间","end_at"],["优惠券状态","enabled"],["使用时间","used_at"],["关联订单号","get_order_id"]]),l=ee([["优惠券ID","cid"],["优惠券名称","name"],["满金额","limit_money"],["发放时间","created_at"],["到期时间","end_at"],["优惠券状态","enabled"],["使用时间","used_at"],["关联订单号","get_order_id"]]),c={cid:void 0,coupon_name:void 0,is_used:0,use_order_sn:void 0},m=i({data:[],loading:!1,coupon_type:1,formData:{...c},reduce_coupon:{},save_coupon:{},reduce_deduction:"",save_deduction:"",deduction_total:"",pagination:ie(),dataSource:[]});O((()=>{setTimeout((e=>{m.coupon_type=1,g(),h()}))})),n((()=>m.coupon_type),(e=>{h()})),n((()=>t.id),(()=>{g(),f()}));const v=e=>{m.pagination={...m.pagination,current:1},h()},f=()=>{m.formData={...c},m.pagination={...m.pagination,current:1},h()},g=async()=>{try{m.loading=!0;const{data:e}=await p.user.couponOverview({uid:t.id});m.reduce_coupon=e.reduce_coupon}catch(e){}finally{m.loading=!1}},h=async()=>{try{m.loading=!0;let e=JSON.parse(JSON.stringify(m.formData));const{data:a}=await p.act.couponRecord.list({page:m.pagination.current,page_size:m.pagination.pageSize,...e,uid:t.id,coupon_type:m.coupon_type});1===m.pagination.current&&(m.pagination.total=+(null==a?void 0:a.count)),m.dataSource=a.items}catch(e){}finally{m.loading=!1}},y=e=>{m.pagination={...m.pagination,...e},h()};return(a,t)=>{const i=_,n=D,c=x,p=L,g=Y,h=$,U=se,S=ae;return o(),r("div",al,[j("div",tl,[j("div",sl,[j("div",ll,[il,j("div",nl,k(u(m).reduce_coupon.remainder),1),ol,j("div",rl,[j("div",null,[w(" 已使用 "),j("span",dl,k(u(m).reduce_coupon.used),1)]),j("div",null,[w(" 已过期 "),j("span",ul,k(u(m).reduce_coupon.overdue),1)]),j("div",null,[w(" 累计领取 "),j("span",cl,k(u(m).reduce_coupon.cumulative),1)])])]),j("div",pl,[ml,j("div",_l,k(u(m).reduce_coupon.save_amount),1),vl])])]),j("div",fl,[e(h,{style:{"text-align":"left","margin-bottom":"16px"}},{default:d((()=>[e(g,{span:24,style:{"text-align":"right"}},{default:d((()=>[e(i,{value:u(m).formData.cid,"onUpdate:value":t[0]||(t[0]=e=>u(m).formData.cid=e),placeholder:"优惠券ID","allow-clear":"",style:{width:"170px","margin-right":"8px"}},null,8,["value"]),e(i,{value:u(m).formData.coupon_name,"onUpdate:value":t[1]||(t[1]=e=>u(m).formData.coupon_name=e),placeholder:"优惠券名称","allow-clear":"",style:{width:"170px","margin-right":"8px"}},null,8,["value"]),e(c,{value:u(m).formData.is_used,"onUpdate:value":t[2]||(t[2]=e=>u(m).formData.is_used=e),placeholder:"请选择使用状态",style:{width:"120px","margin-right":"8px","text-align":"left"}},{default:d((()=>[e(n,{value:0},{default:d((()=>[w(" 未使用 ")])),_:1}),e(n,{value:1},{default:d((()=>[w(" 已使用 ")])),_:1}),e(n,{value:2},{default:d((()=>[w(" 已过期 ")])),_:1})])),_:1},8,["value"]),e(i,{value:u(m).formData.use_order_sn,"onUpdate:value":t[3]||(t[3]=e=>u(m).formData.use_order_sn=e),placeholder:"关联订单号","allow-clear":"",style:{width:"170px","margin-right":"8px"}},null,8,["value"]),e(p,{type:"primary",onClick:v},{default:d((()=>[w(" 查询 ")])),_:1}),e(p,{style:{"margin-left":"8px !important"},onClick:f},{default:d((()=>[w(" 重置 ")])),_:1})])),_:1})])),_:1}),e(S,{"data-source":u(m).dataSource,columns:1===u(m).coupon_type?u(s):u(l),scroll:{x:"max-content"},loading:u(m).loading,pagination:u(m).pagination,onChange:y},{bodyCell:d((({column:e,record:a})=>["enabled"===e.key?(o(),b(U,{key:0,checked:a.enabled,"onUpdate:checked":e=>a.enabled=e,"un-checked-value":0,"checked-value":1,disabled:""},null,8,["checked","onUpdate:checked"])):N("",!0)])),_:1},8,["data-source","columns","loading","pagination"])])])}}}),[["__scopeId","data-v-ed88f62d"]]),hl=e=>(R("data-v-67f8f65c"),e=e(),q(),e),yl={class:"user-integral"},bl={class:"card",style:{"margin-left":"0"}},wl={class:"card-box"},kl={class:"assets",style:{width:"25%","margin-left":"0"}},Dl=hl((()=>j("div",{class:"assets-title mb5"}," 当前积分 ",-1))),xl={class:"assets-content blue-color"},Ul=hl((()=>j("i",{class:"iconfont iconcaiwu-lukuankoukuanzonge blue-color"},null,-1))),Sl={class:"assets",style:{width:"25%","margin-left":"0"}},Il=hl((()=>j("div",{class:"assets-title mb5"}," 累计获得积分 ",-1))),Cl={class:"assets-content yellow-color"},Ol=hl((()=>j("i",{class:"iconfont iconjifen yellow-color"},null,-1))),Tl={class:"content"},jl=V(t({__name:"UserIntegral",props:{id:{type:[String,Number],default:""},userDetails:[Object]},setup(a){const t=a,s=ee([["收支类型","type_name"],["关联订单号","order_sn"],["交易积分","point"],["交易后积分","integral"],["操作人","admin_username"],["创建时间","created_at"]]),l={time:[],order_sn:void 0,type:void 0,integral_name:void 0},c=i({loading:!1,type_map:{},formData:{...l},dataTotal:{},pagination:ie(),dataSource:[],list_type:void 0});O((()=>{setTimeout((e=>{f()}))})),n((()=>t.id),(()=>{v()}));const m=e=>{c.pagination={...c.pagination,current:1},f()},v=()=>{c.formData={...l},c.pagination={...c.pagination,current:1},f()},f=async()=>{try{c.loading=!0;let e=JSON.parse(JSON.stringify(c.formData));e.time&&e.time.length&&(e.time_start=e.time[0],e.time_end=e.time[1]),delete e.time;const{data:a}=await p.user.integralList({page:c.pagination.current,page_size:c.pagination.pageSize,...e,uid:t.id,list_type:c.list_type});1===c.pagination.current&&(c.pagination.total=+(null==a?void 0:a.count)),c.dataSource=a.items,c.dataTotal=a.integral_info,c.type_map=a.type_map}catch(e){}finally{c.loading=!1}},g=e=>{c.pagination={...c.pagination,...e},f()};return(a,t)=>{const l=D,i=x,n=_,p=P,f=L,U=Y,S=$,I=se,C=ae;return o(),r("div",yl,[j("div",bl,[j("div",wl,[j("div",kl,[Dl,j("div",xl,k(u(c).dataTotal.integral),1),Ul]),j("div",Sl,[Il,j("div",Cl,k(u(c).dataTotal.total_integral),1),Ol])])]),j("div",Tl,[e(S,{style:{"text-align":"left","margin-bottom":"16px"}},{default:d((()=>[e(U,{span:24},{default:d((()=>[e(i,{value:u(c).formData.type,"onUpdate:value":t[0]||(t[0]=e=>u(c).formData.type=e),placeholder:"请选择积分类型",style:{width:"180px","margin-right":"8px"},"allow-clear":""},{default:d((()=>[(o(!0),r(h,null,y(u(c).type_map,((e,a)=>(o(),b(l,{key:a,value:a},{default:d((()=>[w(k(e),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"]),e(n,{value:u(c).formData.order_sn,"onUpdate:value":t[1]||(t[1]=e=>u(c).formData.order_sn=e),placeholder:"请输入关联订单号","allow-clear":"",style:{width:"180px","margin-right":"8px"}},null,8,["value"]),e(p,{value:u(c).formData.time,"onUpdate:value":t[2]||(t[2]=e=>u(c).formData.time=e),"value-format":"YYYY-MM-DD",style:{height:"32px !important","margin-right":"16px"},placeholder:["创建时间","结束日期"]},null,8,["value"]),e(f,{type:"primary",onClick:m},{default:d((()=>[w(" 查询 ")])),_:1}),e(f,{style:{"margin-left":"8px !important"},onClick:v},{default:d((()=>[w(" 重置 ")])),_:1})])),_:1})])),_:1}),e(C,{"data-source":u(c).dataSource,columns:u(s),scroll:{x:"max-content"},loading:u(c).loading,pagination:u(c).pagination,onChange:g},{bodyCell:d((({column:e,record:a})=>["status"===e.key?(o(),b(I,{key:0,checked:a.status,"onUpdate:checked":e=>a.status=e,"un-checked-value":"1","checked-value":"2"},null,8,["checked","onUpdate:checked"])):N("",!0)])),_:1},8,["data-source","columns","loading","pagination"])])])}}}),[["__scopeId","data-v-67f8f65c"]]),Nl={class:"user-logs"},zl={class:"content"},El=V(t({__name:"UserLogs",props:{id:{type:[String,Number],default:""},userDetails:[Object]},setup(a){const t=a,s=ee([["记录时间","created_at"],["记录类型","type"],["相关成员","relation"],["备注","remark"]]),l=ee([["操作时间","created_at"],["操作人","operator_name"],["操作值","type_name"],["变更前","change_before"],["变动后","change_after"],["备注","describe"]]),c={time:[],type:1},m=i({type:1,loading:!1,tableData:[],formData:{...c},pagination:ie(),dataSource:[]});O((()=>{setTimeout((e=>{f()}))})),n((()=>t.id),(()=>{v()})),n((()=>m.type),(e=>{m.formData.type=1,f()}));const _=e=>{m.pagination={...m.pagination,current:1},f()},v=()=>{m.type=1,m.formData={...c},m.pagination={...m.pagination,current:1},f()},f=async()=>{try{m.loading=!0;let e=JSON.parse(JSON.stringify(m.formData));e.time&&e.time.length&&(e.time_start=e.time[0],e.time_end=e.time[1]),delete e.time;const{data:a}=await p.user[1===m.type?"teamJournalList":"journalList"]({page:m.pagination.current,page_size:m.pagination.pageSize,...e,uid:t.id});1===m.pagination.current&&(m.pagination.total=+(null==a?void 0:a.count)),m.dataSource=a.items}catch(e){}finally{m.loading=!1}},g=e=>{m.pagination={...m.pagination,...e},f()};return(a,t)=>{const i=ne,n=te,c=Y,p=D,f=x,h=P,y=L,k=$,U=se,S=ae;return o(),r("div",Nl,[j("div",zl,[e(k,{style:{"text-align":"left","margin-bottom":"16px"}},{default:d((()=>[e(c,{span:6},{default:d((()=>[e(n,{value:u(m).type,"onUpdate:value":t[0]||(t[0]=e=>u(m).type=e)},{default:d((()=>[e(i,{value:1},{default:d((()=>[w(" 直属团队变更日志 ")])),_:1}),e(i,{value:2},{default:d((()=>[w(" 用户个人日志 ")])),_:1})])),_:1},8,["value"])])),_:1}),e(c,{span:18,style:{"text-align":"right"}},{default:d((()=>[1===u(m).type?(o(),b(f,{key:0,value:u(m).formData.type,"onUpdate:value":t[1]||(t[1]=e=>u(m).formData.type=e),placeholder:"请选择记录类型",style:{width:"180px","margin-right":"8px","text-align":"left"}},{default:d((()=>[e(p,{value:1},{default:d((()=>[w(" 新增直属店主 ")])),_:1}),e(p,{value:2},{default:d((()=>[w(" 新增直属客户 ")])),_:1}),e(p,{value:3},{default:d((()=>[w(" 直属店主移出 ")])),_:1}),e(p,{value:4},{default:d((()=>[w(" 直属客户移出 ")])),_:1}),e(p,{value:5},{default:d((()=>[w(" 自身上级变更 ")])),_:1})])),_:1},8,["value"])):N("",!0),2===u(m).type?(o(),b(f,{key:1,value:u(m).formData.type,"onUpdate:value":t[2]||(t[2]=e=>u(m).formData.type=e),placeholder:"请选择操作值",style:{width:"180px","margin-right":"8px","text-align":"left"}},{default:d((()=>[e(p,{value:1},{default:d((()=>[w(" 用户等级变动 ")])),_:1}),e(p,{value:2},{default:d((()=>[w(" 用户状态变动 ")])),_:1}),e(p,{value:3},{default:d((()=>[w(" 用户账户合并 ")])),_:1})])),_:1},8,["value"])):N("",!0),e(h,{value:u(m).formData.time,"onUpdate:value":t[3]||(t[3]=e=>u(m).formData.time=e),"value-format":"YYYY-MM-DD",placeholder:["开始时间","结束时间"]},null,8,["value"]),e(y,{type:"primary",onClick:_},{default:d((()=>[w(" 查询 ")])),_:1}),e(y,{style:{"margin-left":"8px !important"},onClick:v},{default:d((()=>[w(" 重置 ")])),_:1})])),_:1})])),_:1}),e(S,{"data-source":u(m).dataSource,columns:1===u(m).type?u(s):u(l),scroll:{x:"max-content"},loading:u(m).loading,pagination:u(m).pagination,onChange:g},{bodyCell:d((({column:e,record:a})=>["status"===e.key?(o(),b(U,{key:0,checked:a.status,"onUpdate:checked":e=>a.status=e,"un-checked-value":"1","checked-value":"2"},null,8,["checked","onUpdate:checked"])):N("",!0)])),_:1},8,["data-source","columns","loading","pagination"])])])}}}),[["__scopeId","data-v-bcb1e160"]]),Ll={class:"userDetailClass"},Bl={class:"side"},Fl={class:"infor"},Rl={key:0},ql={key:0},Al={key:0},Jl={key:0},Ml={key:0},Vl={key:0},Yl={key:0},Pl=(e=>(R("data-v-b84a42be"),e=e(),q(),e))((()=>j("div",null,null,-1))),$l=V(t({__name:"UserDetail",setup(a){const t=C(),s=i({handlingId:0,loading:!0,type:"",id:"",userDetails:{},activeName:"userAbstract",formLabelAlign:{},userType:1,optionsteam_id:[],optionsfirst_partner_id:[],optionssecond_partner_id:[]});O((()=>{s.id=String(t.currentRoute.value.params.id),s.type=String(t.currentRoute.value.params.type),l()})),K((e=>{setTimeout((e=>{console.log("onBeforeRouteUpdate"),s.id=String(t.currentRoute.value.params.id),s.type=String(t.currentRoute.value.params.type),l()}),100)}));const l=()=>{s.loading=!0,p.user.userDetail({uid:s.id}).then((e=>{s.userDetails=e.data,s.loading=!1}))};return(a,t)=>{const i=Q,n=Z,c=Y,p=$;return o(),r("div",Ll,[j("div",Bl,[e(ma,{id:u(s).id,ref:"userBaseInfo","user-data":u(s).userDetails,type:u(s).type,options:{optionsteam_id:u(s).optionsteam_id,optionsfirst_partner_id:u(s).optionsfirst_partner_id,optionssecond_partner_id:u(s).optionssecond_partner_id},onFresh:l},null,8,["id","user-data","type","options"])]),j("div",Fl,[e(p,null,{default:d((()=>[e(c,{span:24,style:{background:"#fff",padding:"24px","border-radius":"4px",height:"100%"}},{default:d((()=>[e(n,{activeKey:u(s).activeName,"onUpdate:activeKey":t[0]||(t[0]=e=>u(s).activeName=e)},{default:d((()=>[e(i,{key:"userAbstract",tab:"用户摘要",lazy:""},{default:d((()=>["userAbstract"===u(s).activeName?(o(),r("div",Rl,[e(kt,{id:u(s).id,ref:"userAbstract","user-details":u(s).userDetails},null,8,["id","user-details"])])):N("",!0)])),_:1}),e(i,{key:"teamRelation",tab:"团队关系",lazy:"",disabled:1===u(s).userDetails.type},{default:d((()=>["teamRelation"===u(s).activeName?(o(),r("div",ql,[e(Ht,{id:u(s).id},null,8,["id"])])):N("",!0)])),_:1},8,["disabled"]),e(i,{key:"fundsDetail",tab:"资金明细",lazy:""},{default:d((()=>["fundsDetail"===u(s).activeName?(o(),r("div",Al,[e(zs,{id:u(s).id},null,8,["id"])])):N("",!0)])),_:1}),e(i,{key:"orderList",tab:"订单列表",lazy:""},{default:d((()=>["orderList"===u(s).activeName?(o(),r("div",Jl,[e(Gs,{id:u(s).id},null,8,["id"])])):N("",!0)])),_:1}),e(i,{key:"userCoupon",tab:"优惠券",lazy:""},{default:d((()=>["userCoupon"===u(s).activeName?(o(),r("div",Ml,[e(gl,{id:u(s).id},null,8,["id"])])):N("",!0)])),_:1}),e(i,{key:"integralInfo",tab:"积分明细",lazy:""},{default:d((()=>["integralInfo"===u(s).activeName?(o(),r("div",Vl,[e(jl,{id:u(s).id},null,8,["id"])])):N("",!0)])),_:1}),e(i,{key:"userLogs",tab:"用户日志",lazy:""},{default:d((()=>["userLogs"===u(s).activeName?(o(),r("div",Yl,[e(El,{id:u(s).id},null,8,["id"])])):N("",!0)])),_:1})])),_:1},8,["activeKey"]),Pl])),_:1})])),_:1})])])}}}),[["__scopeId","data-v-b84a42be"]]);export{$l as default};
