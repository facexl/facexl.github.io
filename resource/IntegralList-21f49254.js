import{d as a,m as n,o as t,$ as e,G as o,a as i,b as s,e as r,f as u,w as p}from"./index-c2ae2a0e.js";import{u as d,_ as l}from"./useTableColumns-dd067b4d.js";import"./index-c8577ae4.js";import"./index-3f0a4d2e.js";import{u as m,a as g}from"./useSearchItems-c7d75cf3.js";import{u as c}from"./usePagination-c05046ed.js";import"./FolderOpenOutlined-fa174baf.js";import"./tool-d986b095.js";import"./RadioButton-bc4165ed.js";const _=a({__name:"IntegralList",setup(a){const _=m([["input","uid","用户ID"],["input","username","用户名称"],["select","type","积分类型"],["dateRange","time_start-time_end",["创建时间","结束时间"]]]),h=d([["用户ID","uid"],["用户名称","username"],["收支类型","type_name"],["关联订单号","order_sn"],["交易积分","point"],["交易后积分","integral"],["操作人","admin_username"],["创建时间","created_at"]]),j=n({handlingId:0,showEditDialog:!1,dataSource:[],loading:!1,query:{},pagination:c()});t((()=>{y()}));const y=()=>{j.loading=!0,e.user.integralList({page:j.pagination.current,page_size:j.pagination.pageSize,...j.query}).then((a=>{var n;j.loading=!1,j.dataSource=a.data.items,1===j.pagination.current&&(j.pagination.total=+(null==(n=a.data)?void 0:n.count)),g(_,"type",a.data.type_map)}))},x=a=>{j.pagination={...j.pagination,...a},y()},S=a=>{j.query=a,j.pagination={...j.pagination,current:1},y()};return(a,n)=>{const t=o("Search"),e=l;return i(),s("div",null,[r(t,{"search-options":u(_),onOnSearch:S},null,8,["search-options"]),r(e,{"data-source":u(j).dataSource,columns:u(h),scroll:{x:"max-content"},loading:u(j).loading,pagination:u(j).pagination,onChange:x},{bodyCell:p((({column:a,record:n})=>[])),_:1},8,["data-source","columns","loading","pagination"])])}}});export{_ as default};
